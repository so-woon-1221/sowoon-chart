import React,{useRef,useState,useMemo,useEffect,createContext,useCallback}from"react";import dayjs from"dayjs";import ReactDOM from"react-dom";var __assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var b="function"==typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x$1=b?Symbol.for("react.responder"):60118,y$1=b?Symbol.for("react.scope"):60119;function z(a){if("object"==typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}var reactIs_production_min={AsyncMode:l,ConcurrentMode:m,ContextConsumer:k,ContextProvider:h,Element:c,ForwardRef:n,Fragment:e,Lazy:t,Memo:r,Portal:d,Profiler:g,StrictMode:f,Suspense:p,isAsyncMode:function(a){return A(a)||z(a)===l},isConcurrentMode:A,isContextConsumer:function(a){return z(a)===k},isContextProvider:function(a){return z(a)===h},isElement:function(a){return"object"==typeof a&&null!==a&&a.$$typeof===c},isForwardRef:function(a){return z(a)===n},isFragment:function(a){return z(a)===e},isLazy:function(a){return z(a)===t},isMemo:function(a){return z(a)===r},isPortal:function(a){return z(a)===d},isProfiler:function(a){return z(a)===g},isStrictMode:function(a){return z(a)===f},isSuspense:function(a){return z(a)===p},isValidElementType:function(a){return"string"==typeof a||"function"==typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"==typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x$1||a.$$typeof===y$1||a.$$typeof===v)},typeOf:z},reactIs_development=createCommonjsModule((function(module,exports){"production"!==process.env.NODE_ENV&&function(){var hasSymbol="function"==typeof Symbol&&Symbol.for,REACT_ELEMENT_TYPE=hasSymbol?Symbol.for("react.element"):60103,REACT_PORTAL_TYPE=hasSymbol?Symbol.for("react.portal"):60106,REACT_FRAGMENT_TYPE=hasSymbol?Symbol.for("react.fragment"):60107,REACT_STRICT_MODE_TYPE=hasSymbol?Symbol.for("react.strict_mode"):60108,REACT_PROFILER_TYPE=hasSymbol?Symbol.for("react.profiler"):60114,REACT_PROVIDER_TYPE=hasSymbol?Symbol.for("react.provider"):60109,REACT_CONTEXT_TYPE=hasSymbol?Symbol.for("react.context"):60110,REACT_ASYNC_MODE_TYPE=hasSymbol?Symbol.for("react.async_mode"):60111,REACT_CONCURRENT_MODE_TYPE=hasSymbol?Symbol.for("react.concurrent_mode"):60111,REACT_FORWARD_REF_TYPE=hasSymbol?Symbol.for("react.forward_ref"):60112,REACT_SUSPENSE_TYPE=hasSymbol?Symbol.for("react.suspense"):60113,REACT_SUSPENSE_LIST_TYPE=hasSymbol?Symbol.for("react.suspense_list"):60120,REACT_MEMO_TYPE=hasSymbol?Symbol.for("react.memo"):60115,REACT_LAZY_TYPE=hasSymbol?Symbol.for("react.lazy"):60116,REACT_BLOCK_TYPE=hasSymbol?Symbol.for("react.block"):60121,REACT_FUNDAMENTAL_TYPE=hasSymbol?Symbol.for("react.fundamental"):60117,REACT_RESPONDER_TYPE=hasSymbol?Symbol.for("react.responder"):60118,REACT_SCOPE_TYPE=hasSymbol?Symbol.for("react.scope"):60119;function typeOf(object){if("object"==typeof object&&null!==object){var $$typeof=object.$$typeof;switch($$typeof){case REACT_ELEMENT_TYPE:var type=object.type;switch(type){case REACT_ASYNC_MODE_TYPE:case REACT_CONCURRENT_MODE_TYPE:case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:return type;default:var $$typeofType=type&&type.$$typeof;switch($$typeofType){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:case REACT_PROVIDER_TYPE:return $$typeofType;default:return $$typeof}}case REACT_PORTAL_TYPE:return $$typeof}}}var AsyncMode=REACT_ASYNC_MODE_TYPE,ConcurrentMode=REACT_CONCURRENT_MODE_TYPE,ContextConsumer=REACT_CONTEXT_TYPE,ContextProvider=REACT_PROVIDER_TYPE,Element=REACT_ELEMENT_TYPE,ForwardRef=REACT_FORWARD_REF_TYPE,Fragment=REACT_FRAGMENT_TYPE,Lazy=REACT_LAZY_TYPE,Memo=REACT_MEMO_TYPE,Portal=REACT_PORTAL_TYPE,Profiler=REACT_PROFILER_TYPE,StrictMode=REACT_STRICT_MODE_TYPE,Suspense=REACT_SUSPENSE_TYPE,hasWarnedAboutDeprecatedIsAsyncMode=!1;function isConcurrentMode(object){return typeOf(object)===REACT_CONCURRENT_MODE_TYPE}exports.AsyncMode=AsyncMode,exports.ConcurrentMode=ConcurrentMode,exports.ContextConsumer=ContextConsumer,exports.ContextProvider=ContextProvider,exports.Element=Element,exports.ForwardRef=ForwardRef,exports.Fragment=Fragment,exports.Lazy=Lazy,exports.Memo=Memo,exports.Portal=Portal,exports.Profiler=Profiler,exports.StrictMode=StrictMode,exports.Suspense=Suspense,exports.isAsyncMode=function(object){return hasWarnedAboutDeprecatedIsAsyncMode||(hasWarnedAboutDeprecatedIsAsyncMode=!0),isConcurrentMode(object)||typeOf(object)===REACT_ASYNC_MODE_TYPE},exports.isConcurrentMode=isConcurrentMode,exports.isContextConsumer=function(object){return typeOf(object)===REACT_CONTEXT_TYPE},exports.isContextProvider=function(object){return typeOf(object)===REACT_PROVIDER_TYPE},exports.isElement=function(object){return"object"==typeof object&&null!==object&&object.$$typeof===REACT_ELEMENT_TYPE},exports.isForwardRef=function(object){return typeOf(object)===REACT_FORWARD_REF_TYPE},exports.isFragment=function(object){return typeOf(object)===REACT_FRAGMENT_TYPE},exports.isLazy=function(object){return typeOf(object)===REACT_LAZY_TYPE},exports.isMemo=function(object){return typeOf(object)===REACT_MEMO_TYPE},exports.isPortal=function(object){return typeOf(object)===REACT_PORTAL_TYPE},exports.isProfiler=function(object){return typeOf(object)===REACT_PROFILER_TYPE},exports.isStrictMode=function(object){return typeOf(object)===REACT_STRICT_MODE_TYPE},exports.isSuspense=function(object){return typeOf(object)===REACT_SUSPENSE_TYPE},exports.isValidElementType=function(type){return"string"==typeof type||"function"==typeof type||type===REACT_FRAGMENT_TYPE||type===REACT_CONCURRENT_MODE_TYPE||type===REACT_PROFILER_TYPE||type===REACT_STRICT_MODE_TYPE||type===REACT_SUSPENSE_TYPE||type===REACT_SUSPENSE_LIST_TYPE||"object"==typeof type&&null!==type&&(type.$$typeof===REACT_LAZY_TYPE||type.$$typeof===REACT_MEMO_TYPE||type.$$typeof===REACT_PROVIDER_TYPE||type.$$typeof===REACT_CONTEXT_TYPE||type.$$typeof===REACT_FORWARD_REF_TYPE||type.$$typeof===REACT_FUNDAMENTAL_TYPE||type.$$typeof===REACT_RESPONDER_TYPE||type.$$typeof===REACT_SCOPE_TYPE||type.$$typeof===REACT_BLOCK_TYPE)},exports.typeOf=typeOf}()}));reactIs_development.AsyncMode,reactIs_development.ConcurrentMode,reactIs_development.ContextConsumer,reactIs_development.ContextProvider,reactIs_development.Element,reactIs_development.ForwardRef,reactIs_development.Fragment,reactIs_development.Lazy,reactIs_development.Memo,reactIs_development.Portal,reactIs_development.Profiler,reactIs_development.StrictMode,reactIs_development.Suspense,reactIs_development.isAsyncMode,reactIs_development.isConcurrentMode,reactIs_development.isContextConsumer,reactIs_development.isContextProvider,reactIs_development.isElement,reactIs_development.isForwardRef,reactIs_development.isFragment,reactIs_development.isLazy,reactIs_development.isMemo,reactIs_development.isPortal,reactIs_development.isProfiler,reactIs_development.isStrictMode,reactIs_development.isSuspense,reactIs_development.isValidElementType,reactIs_development.typeOf;var reactIs=createCommonjsModule((function(module){"production"===process.env.NODE_ENV?module.exports=reactIs_production_min:module.exports=reactIs_development})),getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$4=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var objectAssign=function(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;var order2=Object.getOwnPropertyNames(test2).map((function(n){return test2[n]}));if("0123456789"!==order2.join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=function(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty$4.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to},ReactPropTypesSecret_1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",has$1=Function.call.bind(Object.prototype.hasOwnProperty),printWarning$1=function(){};if("production"!==process.env.NODE_ENV){var ReactPropTypesSecret=ReactPropTypesSecret_1,loggedTypeFailures={},has=has$1;printWarning$1=function(text){var message="Warning: "+text;try{throw new Error(message)}catch(x){}}}function checkPropTypes(typeSpecs,values,location,componentName,getStack){if("production"!==process.env.NODE_ENV)for(var typeSpecName in typeSpecs)if(has(typeSpecs,typeSpecName)){var error;try{if("function"!=typeof typeSpecs[typeSpecName]){var err=Error((componentName||"React class")+": "+location+" type `"+typeSpecName+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof typeSpecs[typeSpecName]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw err.name="Invariant Violation",err}error=typeSpecs[typeSpecName](values,typeSpecName,componentName,location,null,ReactPropTypesSecret)}catch(ex){error=ex}if(!error||error instanceof Error||printWarning$1((componentName||"React class")+": type specification of "+location+" `"+typeSpecName+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof error+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;var stack=getStack?getStack():"";printWarning$1("Failed "+location+" type: "+error.message+(null!=stack?stack:""))}}}checkPropTypes.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(loggedTypeFailures={})};var checkPropTypes_1=checkPropTypes,printWarning=function(){};function emptyFunctionThatReturnsNull(){return null}"production"!==process.env.NODE_ENV&&(printWarning=function(text){var message="Warning: "+text;try{throw new Error(message)}catch(x){}});var factoryWithTypeCheckers=function(isValidElement,throwOnDirectAccess){var ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator";var ANONYMOUS="<<anonymous>>",ReactPropTypes={array:createPrimitiveTypeChecker("array"),bigint:createPrimitiveTypeChecker("bigint"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createChainableTypeChecker(emptyFunctionThatReturnsNull),arrayOf:function(typeChecker){return createChainableTypeChecker((function(props,propName,componentName,location,propFullName){if("function"!=typeof typeChecker)return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside arrayOf.");var propValue=props[propName];if(!Array.isArray(propValue))return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+getPropType(propValue)+"` supplied to `"+componentName+"`, expected an array.");for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]",ReactPropTypesSecret_1);if(error instanceof Error)return error}return null}))},element:createChainableTypeChecker((function(props,propName,componentName,location,propFullName){var propValue=props[propName];return isValidElement(propValue)?null:new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+getPropType(propValue)+"` supplied to `"+componentName+"`, expected a single ReactElement.")})),elementType:createChainableTypeChecker((function(props,propName,componentName,location,propFullName){var propValue=props[propName];return reactIs.isValidElementType(propValue)?null:new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+getPropType(propValue)+"` supplied to `"+componentName+"`, expected a single ReactElement type.")})),instanceOf:function(expectedClass){return createChainableTypeChecker((function(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var expectedClassName=expectedClass.name||ANONYMOUS;return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+(((propValue=props[propName]).constructor&&propValue.constructor.name?propValue.constructor.name:ANONYMOUS)+"` supplied to `")+componentName+"`, expected instance of `"+expectedClassName+"`.")}var propValue;return null}))},node:createChainableTypeChecker((function(props,propName,componentName,location,propFullName){return isNode(props[propName])?null:new PropTypeError("Invalid "+location+" `"+propFullName+"` supplied to `"+componentName+"`, expected a ReactNode.")})),objectOf:function(typeChecker){return createChainableTypeChecker((function(props,propName,componentName,location,propFullName){if("function"!=typeof typeChecker)return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside objectOf.");var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType)return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+propType+"` supplied to `"+componentName+"`, expected an object.");for(var key in propValue)if(has$1(propValue,key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret_1);if(error instanceof Error)return error}return null}))},oneOf:function(expectedValues){if(!Array.isArray(expectedValues))return"production"!==process.env.NODE_ENV&&printWarning(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),emptyFunctionThatReturnsNull;return createChainableTypeChecker((function(props,propName,componentName,location,propFullName){for(var propValue=props[propName],i=0;i<expectedValues.length;i++)if(is(propValue,expectedValues[i]))return null;var valuesString=JSON.stringify(expectedValues,(function(key,value){return"symbol"===getPreciseType(value)?String(value):value}));return new PropTypeError("Invalid "+location+" `"+propFullName+"` of value `"+String(propValue)+"` supplied to `"+componentName+"`, expected one of "+valuesString+".")}))},oneOfType:function(arrayOfTypeCheckers){if(!Array.isArray(arrayOfTypeCheckers))return"production"!==process.env.NODE_ENV&&printWarning("Invalid argument supplied to oneOfType, expected an instance of array."),emptyFunctionThatReturnsNull;for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if("function"!=typeof checker)return printWarning("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+getPostfixForTypeWarning(checker)+" at index "+i+"."),emptyFunctionThatReturnsNull}return createChainableTypeChecker((function(props,propName,componentName,location,propFullName){for(var expectedTypes=[],i=0;i<arrayOfTypeCheckers.length;i++){var checkerResult=(0,arrayOfTypeCheckers[i])(props,propName,componentName,location,propFullName,ReactPropTypesSecret_1);if(null==checkerResult)return null;checkerResult.data&&has$1(checkerResult.data,"expectedType")&&expectedTypes.push(checkerResult.data.expectedType)}return new PropTypeError("Invalid "+location+" `"+propFullName+"` supplied to `"+componentName+"`"+(expectedTypes.length>0?", expected one of type ["+expectedTypes.join(", ")+"]":"")+".")}))},shape:function(shapeTypes){return createChainableTypeChecker((function(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType)return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+propType+"` supplied to `"+componentName+"`, expected `object`.");for(var key in shapeTypes){var checker=shapeTypes[key];if("function"!=typeof checker)return invalidValidatorError(componentName,location,propFullName,key,getPreciseType(checker));var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret_1);if(error)return error}return null}))},exact:function(shapeTypes){return createChainableTypeChecker((function(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType)return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+propType+"` supplied to `"+componentName+"`, expected `object`.");var allKeys=objectAssign({},props[propName],shapeTypes);for(var key in allKeys){var checker=shapeTypes[key];if(has$1(shapeTypes,key)&&"function"!=typeof checker)return invalidValidatorError(componentName,location,propFullName,key,getPreciseType(checker));if(!checker)return new PropTypeError("Invalid "+location+" `"+propFullName+"` key `"+key+"` supplied to `"+componentName+"`.\nBad object: "+JSON.stringify(props[propName],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(shapeTypes),null,"  "));var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret_1);if(error)return error}return null}))}};function is(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}function PropTypeError(message,data){this.message=message,this.data=data&&"object"==typeof data?data:{},this.stack=""}function createChainableTypeChecker(validate){if("production"!==process.env.NODE_ENV)var manualPropTypeCallCache={},manualPropTypeWarningCount=0;function checkType(isRequired,props,propName,componentName,location,propFullName,secret){if(componentName=componentName||ANONYMOUS,propFullName=propFullName||propName,secret!==ReactPropTypesSecret_1){if(throwOnDirectAccess){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var cacheKey=componentName+":"+propName;!manualPropTypeCallCache[cacheKey]&&manualPropTypeWarningCount<3&&(printWarning("You are manually calling a React.PropTypes validation function for the `"+propFullName+"` prop on `"+componentName+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),manualPropTypeCallCache[cacheKey]=!0,manualPropTypeWarningCount++)}}return null==props[propName]?isRequired?null===props[propName]?new PropTypeError("The "+location+" `"+propFullName+"` is marked as required in `"+componentName+"`, but its value is `null`."):new PropTypeError("The "+location+" `"+propFullName+"` is marked as required in `"+componentName+"`, but its value is `undefined`."):null:validate(props,propName,componentName,location,propFullName)}var chainedCheckType=checkType.bind(null,!1);return chainedCheckType.isRequired=checkType.bind(null,!0),chainedCheckType}function createPrimitiveTypeChecker(expectedType){return createChainableTypeChecker((function(props,propName,componentName,location,propFullName,secret){var propValue=props[propName];return getPropType(propValue)!==expectedType?new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+getPreciseType(propValue)+"` supplied to `"+componentName+"`, expected `"+expectedType+"`.",{expectedType:expectedType}):null}))}function invalidValidatorError(componentName,location,propFullName,key,type){return new PropTypeError((componentName||"React class")+": "+location+" type `"+propFullName+"."+key+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+type+"`.")}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return!0;case"boolean":return!propValue;case"object":if(Array.isArray(propValue))return propValue.every(isNode);if(null===propValue||isValidElement(propValue))return!0;var iteratorFn=function(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);if("function"==typeof iteratorFn)return iteratorFn}(propValue);if(!iteratorFn)return!1;var step,iterator=iteratorFn.call(propValue);if(iteratorFn!==propValue.entries){for(;!(step=iterator.next()).done;)if(!isNode(step.value))return!1}else for(;!(step=iterator.next()).done;){var entry=step.value;if(entry&&!isNode(entry[1]))return!1}return!0;default:return!1}}function getPropType(propValue){var propType=typeof propValue;return Array.isArray(propValue)?"array":propValue instanceof RegExp?"object":function(propType,propValue){return"symbol"===propType||!!propValue&&("Symbol"===propValue["@@toStringTag"]||"function"==typeof Symbol&&propValue instanceof Symbol)}(propType,propValue)?"symbol":propType}function getPreciseType(propValue){if(null==propValue)return""+propValue;var propType=getPropType(propValue);if("object"===propType){if(propValue instanceof Date)return"date";if(propValue instanceof RegExp)return"regexp"}return propType}function getPostfixForTypeWarning(value){var type=getPreciseType(value);switch(type){case"array":case"object":return"an "+type;case"boolean":case"date":case"regexp":return"a "+type;default:return type}}return PropTypeError.prototype=Error.prototype,ReactPropTypes.checkPropTypes=checkPropTypes_1,ReactPropTypes.resetWarningCache=checkPropTypes_1.resetWarningCache,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes};function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var _pt=createCommonjsModule((function(module){if("production"!==process.env.NODE_ENV){var ReactIs=reactIs;module.exports=factoryWithTypeCheckers(ReactIs.isElement,!0)}else module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret_1){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}()}));var isObject_1=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)},_freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,_root=_freeGlobal||freeSelf||Function("return this")(),now_1=function(){return _root.Date.now()},reWhitespace=/\s/;var _trimmedEndIndex=function(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index},reTrimStart=/^\s+/;var _baseTrim=function(string){return string?string.slice(0,_trimmedEndIndex(string)+1).replace(reTrimStart,""):string},_Symbol=_root.Symbol,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;var _getRawTag=function(value){var isOwn=hasOwnProperty$3.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{value[symToStringTag$1]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString$1.call(value);return unmasked&&(isOwn?value[symToStringTag$1]=tag:delete value[symToStringTag$1]),result},nativeObjectToString=Object.prototype.toString;var _objectToString=function(value){return nativeObjectToString.call(value)},nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=_Symbol?_Symbol.toStringTag:void 0;var _baseGetTag=function(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?_getRawTag(value):_objectToString(value)};var isObjectLike_1=function(value){return null!=value&&"object"==typeof value},symbolTag="[object Symbol]";var isSymbol_1=function(value){return"symbol"==typeof value||isObjectLike_1(value)&&_baseGetTag(value)==symbolTag},NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;var toNumber_1=function(value){if("number"==typeof value)return value;if(isSymbol_1(value))return NAN;if(isObject_1(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject_1(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=_baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value},FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;var debounce_1=function(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT$1);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now_1();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now_1(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber_1(wait)||0,isObject_1(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber_1(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now_1())},debounced},debounce$1=debounce_1,_excluded$9=["className","children","debounceTime","ignoreDimensions","parentSizeStyles","enableDebounceLeadingCall","resizeObserverPolyfill"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$d.apply(this,arguments)}var defaultIgnoreDimensions=[],defaultParentSizeStyles={width:"100%",height:"100%"};function ParentSize(_ref){var className=_ref.className,children=_ref.children,_ref$debounceTime=_ref.debounceTime,debounceTime=void 0===_ref$debounceTime?300:_ref$debounceTime,_ref$ignoreDimensions=_ref.ignoreDimensions,ignoreDimensions=void 0===_ref$ignoreDimensions?defaultIgnoreDimensions:_ref$ignoreDimensions,_ref$parentSizeStyles=_ref.parentSizeStyles,parentSizeStyles=void 0===_ref$parentSizeStyles?defaultParentSizeStyles:_ref$parentSizeStyles,_ref$enableDebounceLe=_ref.enableDebounceLeadingCall,enableDebounceLeadingCall=void 0===_ref$enableDebounceLe||_ref$enableDebounceLe,resizeObserverPolyfill=_ref.resizeObserverPolyfill,restProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded$9),target=useRef(null),animationFrameID=useRef(0),_useState=useState({width:0,height:0,top:0,left:0}),state=_useState[0],setState=_useState[1],resize=useMemo((function(){var normalized=Array.isArray(ignoreDimensions)?ignoreDimensions:[ignoreDimensions];return debounce$1((function(incoming){setState((function(existing){return Object.keys(existing).filter((function(key){return existing[key]!==incoming[key]})).every((function(key){return normalized.includes(key)}))?existing:incoming}))}),debounceTime,{leading:enableDebounceLeadingCall})}),[debounceTime,enableDebounceLeadingCall,ignoreDimensions]);return useEffect((function(){var observer=new(resizeObserverPolyfill||window.ResizeObserver)((function(entries){entries.forEach((function(entry){var _entry$contentRect,_ref2=null!=(_entry$contentRect=null==entry?void 0:entry.contentRect)?_entry$contentRect:{},left=_ref2.left,top=_ref2.top,width=_ref2.width,height=_ref2.height;animationFrameID.current=window.requestAnimationFrame((function(){resize({width:width,height:height,top:top,left:left})}))}))}));return target.current&&observer.observe(target.current),function(){window.cancelAnimationFrame(animationFrameID.current),observer.disconnect(),resize.cancel()}}),[resize,resizeObserverPolyfill]),React.createElement("div",_extends$d({style:parentSizeStyles,ref:target,className:className},restProps),children(_extends$d({},state,{ref:target.current,resize:resize})))}ParentSize.propTypes={className:_pt.string,debounceTime:_pt.number,enableDebounceLeadingCall:_pt.bool,ignoreDimensions:_pt.oneOfType([_pt.any,_pt.arrayOf(_pt.any)]),children:_pt.func.isRequired};var withParentSize=function(ChartComponent){return function(props){return React.createElement(ParentSize,null,(function(_a){var _b,parentWidth=_a.width,parentHeight=_a.height,combinedProps=__assign(__assign({},props),{width:parentWidth,height:null!==(_b=props.height)&&void 0!==_b?_b:parentHeight});return React.createElement(ChartComponent,__assign({},combinedProps))}))}};function ascending$1(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function descending(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function bisector(f){let compare1,compare2,delta;function left(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<0?lo=mid+1:hi=mid}while(lo<hi)}return lo}return 2!==f.length?(compare1=ascending$1,compare2=(d,x)=>ascending$1(f(d),x),delta=(d,x)=>f(d)-x):(compare1=f===ascending$1||f===descending?f:zero$1,compare2=f,delta=f),{left:left,center:function(a,x,lo=0,hi=a.length){const i=left(a,x,lo,hi-1);return i>lo&&delta(a[i-1],x)>-delta(a[i],x)?i-1:i},right:function(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<=0?lo=mid+1:hi=mid}while(lo<hi)}return lo}}}function zero$1(){return 0}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left;bisector((function(x){return null===x?NaN:+x})).center;class InternMap extends Map{constructor(entries,key=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:key}}),null!=entries)for(const[key,value]of entries)this.set(key,value)}get(key){return super.get(intern_get(this,key))}has(key){return super.has(intern_get(this,key))}set(key,value){return super.set(function({_intern:_intern,_key:_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):(_intern.set(key,value),value)}(this,key),value)}delete(key){return super.delete(function({_intern:_intern,_key:_key},value){const key=_key(value);_intern.has(key)&&(value=_intern.get(key),_intern.delete(key));return value}(this,key))}}function intern_get({_intern:_intern,_key:_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):value}function keyof(value){return null!==value&&"object"==typeof value?value.valueOf():value}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(start,stop,count){const step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log10(step)),error=step/Math.pow(10,power),factor=error>=e10?10:error>=e5?5:error>=e2?2:1;let i1,i2,inc;return power<0?(inc=Math.pow(10,-power)/factor,i1=Math.round(start*inc),i2=Math.round(stop*inc),i1/inc<start&&++i1,i2/inc>stop&&--i2,inc=-inc):(inc=Math.pow(10,power)*factor,i1=Math.round(start/inc),i2=Math.round(stop/inc),i1*inc<start&&++i1,i2*inc>stop&&--i2),i2<i1&&.5<=count&&count<2?tickSpec(start,stop,2*count):[i1,i2,inc]}function tickIncrement(start,stop,count){return tickSpec(start=+start,stop=+stop,count=+count)[2]}function tickStep(start,stop,count){count=+count;const reverse=(stop=+stop)<(start=+start),inc=reverse?tickIncrement(stop,start,count):tickIncrement(start,stop,count);return(reverse?-1:1)*(inc<0?1/-inc:inc)}function max(values,valueof){let max;if(void 0===valueof)for(const value of values)null!=value&&(max<value||void 0===max&&value>=value)&&(max=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(max<value||void 0===max&&value>=value)&&(max=value)}return max}function min(values,valueof){let min;if(void 0===valueof)for(const value of values)null!=value&&(min>value||void 0===min&&value>=value)&&(min=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(min>value||void 0===min&&value>=value)&&(min=value)}return min}var makeDisplayNum=function(numbers){if(!(max(numbers)>=1e5))return["",1];for(var checkIndex=10;;){for(var count=0,_i=0,numbers_1=numbers;_i<numbers_1.length;_i++){numbers_1[_i]%checkIndex==0&&count++}if(count!=numbers.length)break;checkIndex*=10}switch(checkIndex/=10){case 1:default:return["",checkIndex];case 10:return["십",checkIndex];case 100:return["백",checkIndex];case 1e3:return["천",checkIndex];case 1e4:return["만",checkIndex];case 1e5:return["십만",checkIndex];case 1e6:return["백만",checkIndex];case 1e7:return["천만",checkIndex];case 1e8:return["억",checkIndex];case 1e9:return["십억",checkIndex];case 1e10:return["백억",checkIndex];case 1e11:return["천억",checkIndex];case 1e12:return["조",checkIndex]}};function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}const implicit=Symbol("implicit");function ordinal(){var index=new InternMap,domain=[],range=[],unknown=implicit;function scale(d){let i=index.get(d);if(void 0===i){if(unknown!==implicit)return unknown;index.set(d,i=domain.push(d)-1)}return range[i%range.length]}return scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=new InternMap;for(const value of _)index.has(value)||index.set(value,domain.push(value)-1);return scale},scale.range=function(_){return arguments.length?(range=Array.from(_),scale):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return ordinal(domain,range).unknown(unknown)},initRange.apply(scale,arguments),scale}function band(){var step,bandwidth,scale=ordinal().unknown(void 0),domain=scale.domain,ordinalRange=scale.range,r0=0,r1=1,round=!1,paddingInner=0,paddingOuter=0,align=.5;function rescale(){var n=domain().length,reverse=r1<r0,start=reverse?r1:r0,stop=reverse?r0:r1;step=(stop-start)/Math.max(1,n-paddingInner+2*paddingOuter),round&&(step=Math.floor(step)),start+=(stop-start-step*(n-paddingInner))*align,bandwidth=step*(1-paddingInner),round&&(start=Math.round(start),bandwidth=Math.round(bandwidth));var values=function(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}(n).map((function(i){return start+step*i}));return ordinalRange(reverse?values.reverse():values)}return delete scale.unknown,scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.range=function(_){return arguments.length?([r0,r1]=_,r0=+r0,r1=+r1,rescale()):[r0,r1]},scale.rangeRound=function(_){return[r0,r1]=_,r0=+r0,r1=+r1,round=!0,rescale()},scale.bandwidth=function(){return bandwidth},scale.step=function(){return step},scale.round=function(_){return arguments.length?(round=!!_,rescale()):round},scale.padding=function(_){return arguments.length?(paddingInner=Math.min(1,paddingOuter=+_),rescale()):paddingInner},scale.paddingInner=function(_){return arguments.length?(paddingInner=Math.min(1,_),rescale()):paddingInner},scale.paddingOuter=function(_){return arguments.length?(paddingOuter=+_,rescale()):paddingOuter},scale.align=function(_){return arguments.length?(align=Math.max(0,Math.min(1,_)),rescale()):align},scale.copy=function(){return band(domain(),[r0,r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)},initRange.apply(rescale(),arguments)}function define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgb(r,g,b,opacity){return 1===arguments.length?((o=r)instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb):new Rgb(r,g,b,null==opacity?1:opacity);var o}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){const a=clampa(this.opacity);return`${1===a?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===a?")":`, ${a})`}`}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){return((value=clampi(value))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function clamph(value){return(value=(value||0)%360)<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}define(Color,color,{copy(channels){return Object.assign(new this.constructor,this,channels)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,(function(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}),extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=clampa(this.opacity);return`${1===a?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===a?")":`, ${a})`}`}}));var constant$2=x=>()=>x;function gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):constant$2(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?function(a,d){return function(t){return a+t*d}}(a,d):constant$2(isNaN(a)?b:a)}var interpolateRgb=function rgbGamma(y){var color=gamma(y);function rgb$1(start,end){var r=color((start=rgb(start)).r,(end=rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb$1.gamma=rgbGamma,rgb$1}(1);function numberArray(a,b){b||(b=[]);var i,n=a?Math.min(b.length,a.length):0,c=b.slice();return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function genericArray(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=interpolate(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date$1(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=interpolate(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function string(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:interpolateNumber(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function(b){return function(t){return b(t)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function interpolate(a,b){var c,t=typeof b;return null==b||"boolean"===t?constant$2(b):("number"===t?interpolateNumber:"string"===t?(c=color(b))?(b=c,interpolateRgb):string:b instanceof color?interpolateRgb:b instanceof Date?date$1:function(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}(b)?numberArray:Array.isArray(b)?genericArray:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:interpolateNumber)(a,b)}function interpolateRound(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}function number$1(x){return+x}var unit=[0,1];function identity$1(x){return x}function normalize(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:function(x){return function(){return x}}(isNaN(b)?NaN:.5)}function bimap(domain,range,interpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=normalize(d1,d0),r0=interpolate(r1,r0)):(d0=normalize(d0,d1),r0=interpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=normalize(domain[i],domain[i+1]),r[i]=interpolate(range[i],range[i+1]);return function(x){var i=bisectRight(domain,x,1,j)-1;return r[i](d[i](x))}}function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function transformer(){var transform,untransform,unknown,piecewise,output,input,domain=unit,range=unit,interpolate$1=interpolate,clamp=identity$1;function rescale(){var n=Math.min(domain.length,range.length);return clamp!==identity$1&&(clamp=function(a,b){var t;return a>b&&(t=a,a=b,b=t),function(x){return Math.max(a,Math.min(b,x))}}(domain[0],domain[n-1])),piecewise=n>2?polymap:bimap,output=input=null,scale}function scale(x){return null==x||isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate$1)))(transform(clamp(x)))}return scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,domain.map(transform),interpolateNumber)))(y)))},scale.domain=function(_){return arguments.length?(domain=Array.from(_,number$1),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=Array.from(_),interpolate$1=interpolateRound,rescale()},scale.clamp=function(_){return arguments.length?(clamp=!!_||identity$1,rescale()):clamp!==identity$1},scale.interpolate=function(_){return arguments.length?(interpolate$1=_,rescale()):interpolate$1},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t,u){return transform=t,untransform=u,rescale()}}function continuous(){return transformer()(identity$1,identity$1)}function formatDecimalParts(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}function exponent(x){return(x=formatDecimalParts(Math.abs(x)))?x[1]:NaN}var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":(x,p)=>(100*x).toFixed(p),b:x=>Math.round(x).toString(2),c:x=>x+"",d:function(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:(x,p)=>x.toExponential(p),f:(x,p)=>x.toFixed(p),g:(x,p)=>x.toPrecision(p),o:x=>Math.round(x).toString(8),p:(x,p)=>formatRounded(100*x,p),r:formatRounded,s:function(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimalParts(x,Math.max(0,p+i-1))[0]},X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function identity(x){return x}var locale$1,format,formatPrefix,map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(locale){var grouping,thousands,group=void 0===locale.grouping||void 0===locale.thousands?identity:(grouping=map.call(locale.grouping,Number),thousands=locale.thousands+"",function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?identity:function(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}(map.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"−":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";function newFormat(specifier){var fill=(specifier=formatSpecifier(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0||1/value<0;if(value=isNaN(value)?nan:formatType(Math.abs(value),precision),trim&&(value=function(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(!+s[i])break out;i0>0&&(i0=0)}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}(value)),valueNegative&&0==+value&&"+"!==sign&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function(specifier,value){var f=newFormat(((specifier=formatSpecifier(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}}}function tickFormat(start,stop,count,specifier){var precision,step=tickStep(start,stop,count);switch((specifier=formatSpecifier(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=function(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))-exponent(Math.abs(step)))}(step,value))||(specifier.precision=precision),formatPrefix(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=function(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,exponent(max)-exponent(step))+1}(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=function(step){return Math.max(0,-exponent(Math.abs(step)))}(step))||(specifier.precision=precision-2*("%"===specifier.type))}return format(specifier)}function linearish(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return function(start,stop,count){if(!((count=+count)>0))return[];if((start=+start)==(stop=+stop))return[start];const reverse=stop<start,[i1,i2,inc]=reverse?tickSpec(stop,start,count):tickSpec(start,stop,count);if(!(i2>=i1))return[];const n=i2-i1+1,ticks=new Array(n);if(reverse)if(inc<0)for(let i=0;i<n;++i)ticks[i]=(i2-i)/-inc;else for(let i=0;i<n;++i)ticks[i]=(i2-i)*inc;else if(inc<0)for(let i=0;i<n;++i)ticks[i]=(i1+i)/-inc;else for(let i=0;i<n;++i)ticks[i]=(i1+i)*inc;return ticks}(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){var d=domain();return tickFormat(d[0],d[d.length-1],null==count?10:count,specifier)},scale.nice=function(count){null==count&&(count=10);var prestep,step,d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1],maxIter=10;for(stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step);maxIter-- >0;){if((step=tickIncrement(start,stop,count))===prestep)return d[i0]=start,d[i1]=stop,domain(d);if(step>0)start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step;else{if(!(step<0))break;start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step}prestep=step}return scale},scale}function linear(){var scale=continuous();return scale.copy=function(){return copy(scale,linear())},initRange.apply(scale,arguments),linearish(scale)}locale$1=formatLocale$1({thousands:",",grouping:[3],currency:["$",""]}),format=locale$1.format,formatPrefix=locale$1.formatPrefix;const t0=new Date,t1=new Date;function timeInterval(floori,offseti,count,field){function interval(date){return floori(date=0===arguments.length?new Date:new Date(+date)),date}return interval.floor=date=>(floori(date=new Date(+date)),date),interval.ceil=date=>(floori(date=new Date(date-1)),offseti(date,1),floori(date),date),interval.round=date=>{const d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=(date,step)=>(offseti(date=new Date(+date),null==step?1:Math.floor(step)),date),interval.range=(start,stop,step)=>{const range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;let previous;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range},interval.filter=test=>timeInterval((date=>{if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)}),((date,step)=>{if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););})),count&&(interval.count=(start,end)=>(t0.setTime(+start),t1.setTime(+end),floori(t0),floori(t1),Math.floor(count(t0,t1))),interval.every=step=>(step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?d=>field(d)%step==0:d=>interval.count(0,d)%step==0):interval:null)),interval}const millisecond=timeInterval((()=>{}),((date,step)=>{date.setTime(+date+step)}),((start,end)=>end-start));millisecond.every=k=>(k=Math.floor(k),isFinite(k)&&k>0?k>1?timeInterval((date=>{date.setTime(Math.floor(date/k)*k)}),((date,step)=>{date.setTime(+date+step*k)}),((start,end)=>(end-start)/k)):millisecond:null),millisecond.range;const durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay,second=timeInterval((date=>{date.setTime(date-date.getMilliseconds())}),((date,step)=>{date.setTime(+date+step*durationSecond)}),((start,end)=>(end-start)/durationSecond),(date=>date.getUTCSeconds()));second.range;const timeMinute=timeInterval((date=>{date.setTime(date-date.getMilliseconds()-date.getSeconds()*durationSecond)}),((date,step)=>{date.setTime(+date+step*durationMinute)}),((start,end)=>(end-start)/durationMinute),(date=>date.getMinutes()));timeMinute.range;const utcMinute=timeInterval((date=>{date.setUTCSeconds(0,0)}),((date,step)=>{date.setTime(+date+step*durationMinute)}),((start,end)=>(end-start)/durationMinute),(date=>date.getUTCMinutes()));utcMinute.range;const timeHour=timeInterval((date=>{date.setTime(date-date.getMilliseconds()-date.getSeconds()*durationSecond-date.getMinutes()*durationMinute)}),((date,step)=>{date.setTime(+date+step*durationHour)}),((start,end)=>(end-start)/durationHour),(date=>date.getHours()));timeHour.range;const utcHour=timeInterval((date=>{date.setUTCMinutes(0,0,0)}),((date,step)=>{date.setTime(+date+step*durationHour)}),((start,end)=>(end-start)/durationHour),(date=>date.getUTCHours()));utcHour.range;const timeDay=timeInterval((date=>date.setHours(0,0,0,0)),((date,step)=>date.setDate(date.getDate()+step)),((start,end)=>(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/durationDay),(date=>date.getDate()-1));timeDay.range;const utcDay=timeInterval((date=>{date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCDate(date.getUTCDate()+step)}),((start,end)=>(end-start)/durationDay),(date=>date.getUTCDate()-1));utcDay.range;const unixDay=timeInterval((date=>{date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCDate(date.getUTCDate()+step)}),((start,end)=>(end-start)/durationDay),(date=>Math.floor(date/durationDay)));function timeWeekday(i){return timeInterval((date=>{date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)}),((date,step)=>{date.setDate(date.getDate()+7*step)}),((start,end)=>(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/durationWeek))}unixDay.range;const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);function utcWeekday(i){return timeInterval((date=>{date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCDate(date.getUTCDate()+7*step)}),((start,end)=>(end-start)/durationWeek))}timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range;const timeMonth=timeInterval((date=>{date.setDate(1),date.setHours(0,0,0,0)}),((date,step)=>{date.setMonth(date.getMonth()+step)}),((start,end)=>end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())),(date=>date.getMonth()));timeMonth.range;const utcMonth=timeInterval((date=>{date.setUTCDate(1),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCMonth(date.getUTCMonth()+step)}),((start,end)=>end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())),(date=>date.getUTCMonth()));utcMonth.range;const timeYear=timeInterval((date=>{date.setMonth(0,1),date.setHours(0,0,0,0)}),((date,step)=>{date.setFullYear(date.getFullYear()+step)}),((start,end)=>end.getFullYear()-start.getFullYear()),(date=>date.getFullYear()));timeYear.every=k=>isFinite(k=Math.floor(k))&&k>0?timeInterval((date=>{date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)}),((date,step)=>{date.setFullYear(date.getFullYear()+step*k)})):null,timeYear.range;const utcYear=timeInterval((date=>{date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step)}),((start,end)=>end.getUTCFullYear()-start.getUTCFullYear()),(date=>date.getUTCFullYear()));utcYear.every=k=>isFinite(k=Math.floor(k))&&k>0?timeInterval((date=>{date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step*k)})):null,utcYear.range;const[timeTicks,timeTickInterval]=function(year,month,week,day,hour,minute){const tickIntervals=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[minute,1,durationMinute],[minute,5,5*durationMinute],[minute,15,15*durationMinute],[minute,30,30*durationMinute],[hour,1,durationHour],[hour,3,3*durationHour],[hour,6,6*durationHour],[hour,12,12*durationHour],[day,1,durationDay],[day,2,2*durationDay],[week,1,durationWeek],[month,1,durationMonth],[month,3,3*durationMonth],[year,1,durationYear]];function tickInterval(start,stop,count){const target=Math.abs(stop-start)/count,i=bisector((([,,step])=>step)).right(tickIntervals,target);if(i===tickIntervals.length)return year.every(tickStep(start/durationYear,stop/durationYear,count));if(0===i)return millisecond.every(Math.max(tickStep(start,stop,count),1));const[t,step]=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i];return t.every(step)}return[function(start,stop,count){const reverse=stop<start;reverse&&([start,stop]=[stop,start]);const interval=count&&"function"==typeof count.range?count:tickInterval(start,stop,count),ticks=interval?interval.range(start,+stop+1):[];return reverse?ticks.reverse():ticks},tickInterval]}(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return date.setFullYear(d.y),date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return date.setUTCFullYear(d.y),date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y:y,m:m,d:d,H:0,M:0,S:0,L:0}}var locale,timeFormat,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){return new Map(names.map(((name,i)=>[name.toLowerCase(),i])))}function parseWeekdayNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekdayNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.u=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberISO(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.V=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseQuarter(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.q=3*n[0]-3,i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseMicroseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+6));return n?(d.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function parseUnixTimestamp(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=+n[0],i+n[0].length):-1}function parseUnixTimestampSeconds(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.s=+n[0],i+n[0].length):-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+timeDay.count(timeYear(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return 0===day?7:day}function formatWeekNumberSunday(d,p){return pad(timeSunday.count(timeYear(d)-1,d),p,2)}function dISO(d){var day=d.getDay();return day>=4||0===day?timeThursday(d):timeThursday.ceil(d)}function formatWeekNumberISO(d,p){return d=dISO(d),pad(timeThursday.count(timeYear(d),d)+(4===timeYear(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(timeMonday.count(timeYear(d)-1,d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatYearISO(d,p){return pad((d=dISO(d)).getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1e4,p,4)}function formatFullYearISO(d,p){var day=d.getDay();return pad((d=day>=4||0===day?timeThursday(d):timeThursday.ceil(d)).getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+pad(z/60|0,"0",2)+pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+utcDay.count(utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return 0===dow?7:dow}function formatUTCWeekNumberSunday(d,p){return pad(utcSunday.count(utcYear(d)-1,d),p,2)}function UTCdISO(d){var day=d.getUTCDay();return day>=4||0===day?utcThursday(d):utcThursday.ceil(d)}function formatUTCWeekNumberISO(d,p){return d=UTCdISO(d),pad(utcThursday.count(utcYear(d),d)+(4===utcYear(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(utcMonday.count(utcYear(d)-1,d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCYearISO(d,p){return pad((d=UTCdISO(d)).getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCFullYearISO(d,p){var day=d.getUTCDay();return pad((d=day>=4||0===day?utcThursday(d):utcThursday.ceil(d)).getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format){var scale=continuous(),invert=scale.invert,domain=scale.domain,formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y");function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}return scale.invert=function(y){return new Date(invert(y))},scale.domain=function(_){return arguments.length?domain(Array.from(_,number)):domain().map(date)},scale.ticks=function(interval){var d=domain();return ticks(d[0],d[d.length-1],null==interval?10:interval)},scale.tickFormat=function(count,specifier){return null==specifier?tickFormat:format(specifier)},scale.nice=function(interval){var d=domain();return interval&&"function"==typeof interval.range||(interval=tickInterval(d[0],d[d.length-1],null==interval?10:interval)),interval?domain(function(domain,interval){var t,i0=0,i1=(domain=domain.slice()).length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t=i0,i0=i1,i1=t,t=x0,x0=x1,x1=t),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain}(d,interval)):scale},scale.copy=function(){return copy(scale,calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format))},scale}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}!function(definition){locale=function(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:function(d){return locale_shortWeekdays[d.getDay()]},A:function(d){return locale_weekdays[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(d){return locale_periods[+(d.getHours()>=12)]},q:function(d){return 1+~~(d.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function(d){return locale_shortWeekdays[d.getUTCDay()]},A:function(d){return locale_weekdays[d.getUTCDay()]},b:function(d){return locale_shortMonths[d.getUTCMonth()]},B:function(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(d){return locale_periods[+(d.getUTCHours()>=12)]},q:function(d){return 1+~~(d.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1},A:function(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1},b:function(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup.get(n[0].toLowerCase()),i+n[0].length):-1},B:function(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1},c:function(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup.get(n[0].toLowerCase()),i+n[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}function newParse(specifier,Z){return function(string){var week,day,d=newDate(1900,void 0,1);if(parseSpecifier(d,specifier,string+="",0)!=string.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(Z&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(day=(week=utcDate(newDate(d.y,0,1))).getUTCDay(),week=day>4||0===day?utcMonday.ceil(week):utcMonday(week),week=utcDay.offset(week,7*(d.V-1)),d.y=week.getUTCFullYear(),d.m=week.getUTCMonth(),d.d=week.getUTCDate()+(d.w+6)%7):(day=(week=localDate(newDate(d.y,0,1))).getDay(),week=day>4||0===day?timeMonday.ceil(week):timeMonday(week),week=timeDay.offset(week,7*(d.V-1)),d.y=week.getFullYear(),d.m=week.getMonth(),d.d=week.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),day="Z"in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):localDate(d)}}function parseSpecifier(d,specifier,string,j){for(var c,parse,i=0,n=specifier.length,m=string.length;i<n;){if(j>=m)return-1;if(37===(c=specifier.charCodeAt(i++))){if(c=specifier.charAt(i++),!(parse=parses[c in pads?specifier.charAt(i++):c])||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f=newFormat(specifier+="",formats);return f.toString=function(){return specifier},f},parse:function(specifier){var p=newParse(specifier+="",!1);return p.toString=function(){return specifier},p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);return f.toString=function(){return specifier},f},utcParse:function(specifier){var p=newParse(specifier+="",!0);return p.toString=function(){return specifier},p}}}(definition),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var pi=Math.PI,tau=2*pi,tauEpsilon=tau-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function constant$1(x){return function(){return x}}function Linear(context){this._context=context}function curveLinear(context){return new Linear(context)}function x(p){return p[0]}function y(p){return p[1]}function line(){var x$1=x,y$1=y,defined=constant$1(!0),context=null,curve=curveLinear,output=null;function line(data){var i,d,buffer,n=data.length,defined0=!1;for(null==context&&(output=curve(buffer=path())),i=0;i<=n;++i)!(i<n&&defined(d=data[i],i,data))===defined0&&((defined0=!defined0)?output.lineStart():output.lineEnd()),defined0&&output.point(+x$1(d,i,data),+y$1(d,i,data));if(buffer)return output=null,buffer+""||null}return line.x=function(_){return arguments.length?(x$1="function"==typeof _?_:constant$1(+_),line):x$1},line.y=function(_){return arguments.length?(y$1="function"==typeof _?_:constant$1(+_),line):y$1},line.defined=function(_){return arguments.length?(defined="function"==typeof _?_:constant$1(!!_),line):defined},line.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),line):curve},line.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),line):context},line}function area(){var x0=x,x1=null,y0=constant$1(0),y1=y,defined=constant$1(!0),context=null,curve=curveLinear,output=null;function area(data){var i,j,k,d,buffer,n=data.length,defined0=!1,x0z=new Array(n),y0z=new Array(n);for(null==context&&(output=curve(buffer=path())),i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0)if(defined0=!defined0)j=i,output.areaStart(),output.lineStart();else{for(output.lineEnd(),output.lineStart(),k=i-1;k>=j;--k)output.point(x0z[k],y0z[k]);output.lineEnd(),output.areaEnd()}defined0&&(x0z[i]=+x0(d,i,data),y0z[i]=+y0(d,i,data),output.point(x1?+x1(d,i,data):x0z[i],y1?+y1(d,i,data):y0z[i]))}if(buffer)return output=null,buffer+""||null}function arealine(){return line().defined(defined).curve(curve).context(context)}return area.x=function(_){return arguments.length?(x0="function"==typeof _?_:constant$1(+_),x1=null,area):x0},area.x0=function(_){return arguments.length?(x0="function"==typeof _?_:constant$1(+_),area):x0},area.x1=function(_){return arguments.length?(x1=null==_?null:"function"==typeof _?_:constant$1(+_),area):x1},area.y=function(_){return arguments.length?(y0="function"==typeof _?_:constant$1(+_),y1=null,area):y0},area.y0=function(_){return arguments.length?(y0="function"==typeof _?_:constant$1(+_),area):y0},area.y1=function(_){return arguments.length?(y1=null==_?null:"function"==typeof _?_:constant$1(+_),area):y1},area.lineX0=area.lineY0=function(){return arealine().x(x0).y(y0)},area.lineY1=function(){return arealine().x(x0).y(y1)},area.lineX1=function(){return arealine().x(x1).y(y0)},area.defined=function(_){return arguments.length?(defined="function"==typeof _?_:constant$1(!!_),area):defined},area.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),area):curve},area.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),area):context},area}Path.prototype=path.prototype={constructor:Path,moveTo:function(x,y){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(x,y){this._+="L"+(this._x1=+x)+","+(this._y1=+y)},quadraticCurveTo:function(x1,y1,x,y){this._+="Q"+ +x1+","+ +y1+","+(this._x1=+x)+","+(this._y1=+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._+="C"+ +x1+","+ +y1+","+ +x2+","+ +y2+","+(this._x1=+x)+","+(this._y1=+y)},arcTo:function(x1,y1,x2,y2,r){x1=+x1,y1=+y1,x2=+x2,y2=+y2,r=+r;var x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=x1)+","+(this._y1=y1);else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r){var x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;Math.abs(t01-1)>1e-6&&(this._+="L"+(x1+t01*x01)+","+(y1+t01*y01)),this._+="A"+r+","+r+",0,0,"+ +(y01*x20>x01*y20)+","+(this._x1=x1+t21*x21)+","+(this._y1=y1+t21*y21)}else this._+="L"+(this._x1=x1)+","+(this._y1=y1);else;},arc:function(x,y,r,a0,a1,ccw){x=+x,y=+y,ccw=!!ccw;var dx=(r=+r)*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+x0+","+y0:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&(this._+="L"+x0+","+y0),r&&(da<0&&(da=da%tau+tau),da>tauEpsilon?this._+="A"+r+","+r+",0,1,"+cw+","+(x-dx)+","+(y-dy)+"A"+r+","+r+",0,1,"+cw+","+(this._x1=x0)+","+(this._y1=y0):da>1e-6&&(this._+="A"+r+","+r+",0,"+ +(da>=pi)+","+cw+","+(this._x1=x+r*Math.cos(a1))+","+(this._y1=y+r*Math.sin(a1))))},rect:function(x,y,w,h){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)+"h"+ +w+"v"+ +h+"h"+-w+"Z"},toString:function(){return this._}},Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._context.lineTo(x,y)}}};var slice=Array.prototype.slice;function stackOffsetNone(series,order){if((n=series.length)>1)for(var j,s0,n,i=1,s1=series[order[0]],m=s1.length;i<n;++i)for(s0=s1,s1=series[order[i]],j=0;j<m;++j)s1[j][1]+=s1[j][0]=isNaN(s0[j][1])?s0[j][0]:s0[j][1]}function stackOrderNone(series){for(var n=series.length,o=new Array(n);--n>=0;)o[n]=n;return o}function stackValue(d,key){return d[key]}function stack$1(){var keys=constant$1([]),order=stackOrderNone,offset=stackOffsetNone,value=stackValue;function stack(data){var i,oz,kz=keys.apply(this,arguments),m=data.length,n=kz.length,sz=new Array(n);for(i=0;i<n;++i){for(var sij,ki=kz[i],si=sz[i]=new Array(m),j=0;j<m;++j)si[j]=sij=[0,+value(data[j],ki,j,data)],sij.data=data[j];si.key=ki}for(i=0,oz=order(sz);i<n;++i)sz[oz[i]].index=i;return offset(sz,oz),sz}return stack.keys=function(_){return arguments.length?(keys="function"==typeof _?_:constant$1(slice.call(_)),stack):keys},stack.value=function(_){return arguments.length?(value="function"==typeof _?_:constant$1(+_),stack):value},stack.order=function(_){return arguments.length?(order=null==_?stackOrderNone:"function"==typeof _?_:constant$1(slice.call(_)),stack):order},stack.offset=function(_){return arguments.length?(offset=null==_?stackOffsetNone:_,stack):offset},stack}var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),namespaces.hasOwnProperty(prefix)?{space:namespaces[prefix],local:name}:name}function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===xhtml&&document.documentElement.namespaceURI===xhtml?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}function creator(name){var fullname=namespace(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}function none(){}function selector(selector){return null==selector?none:function(){return this.querySelector(selector)}}function empty$1(){return[]}function arrayAll(select){return function(){return function(x){return null==x?[]:Array.isArray(x)?x:Array.from(x)}(select.apply(this,arguments))}}function childMatcher(selector){return function(node){return node.matches(selector)}}var find=Array.prototype.find;function childFirst(){return this.firstElementChild}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(update){return new Array(update.length)}function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue=new Map,groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=key.call(node,node.__data__,i,group)+"",nodeByKeyValue.has(keyValue)?exit[i]=node:nodeByKeyValue.set(keyValue,node));for(i=0;i<dataLength;++i)keyValue=key.call(parent,data[i],i,data)+"",(node=nodeByKeyValue.get(keyValue))?(update[i]=node,node.__data__=data[i],nodeByKeyValue.delete(keyValue)):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue.get(keyValues[i])===node&&(exit[i]=node)}function datum(node){return node.__data__}function arraylike(data){return"object"==typeof data&&"length"in data?data:Array.from(data)}function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}function defaultView(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,options){return function(){var o,on=this.__on,listener=function(listener){return function(event){listener.call(this,event,this.__data__)}}(value);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=listener,o.options=options),void(o.value=value);this.addEventListener(typename.type,listener,options),o={type:typename.type,name:typename.name,value:value,listener:listener,options:options},on?on.push(o):this.__on=[o]}}function dispatchEvent(node,type,params){var window=defaultView(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}},ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}};var root=[null];function Selection(groups,parents){this._groups=groups,this._parents=parents}function select(selector){return"string"==typeof selector?new Selection([[document.querySelector(selector)]],[document.documentElement]):new Selection([[selector]],root)}Selection.prototype={constructor:Selection,select:function(select){"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection(subgroups,this._parents)},selectAll:function(select){select="function"==typeof select?arrayAll(select):function(selector){return null==selector?empty$1:function(){return this.querySelectorAll(selector)}}(select);for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection(subgroups,parents)},selectChild:function(match){return this.select(null==match?childFirst:function(match){return function(){return find.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},selectChildren:function(match){return this.selectAll(null==match?children:function(match){return function(){return filter.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},filter:function(match){"function"!=typeof match&&(match=function(selector){return function(){return this.matches(selector)}}(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection(subgroups,this._parents)},data:function(value,key){if(!arguments.length)return Array.from(this,datum);var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=function(x){return function(){return x}}(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=arraylike(value.call(parent,parent&&parent.__data__,j,parents)),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection(update,parents))._enter=enter,update._exit=exit,update},enter:function(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return"function"==typeof onenter?(enter=onenter(enter))&&(enter=enter.selection()):enter=enter.append(onenter+""),null!=onupdate&&(update=onupdate(update))&&(update=update.selection()),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function(context){for(var selection=context.selection?context.selection():context,groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection(merges,this._parents)},selection:function(){return this},order:function(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection(sortgroups,this._parents).order()},call:function(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function(){let size=0;for(const node of this)++size;return size},empty:function(){return!this.node()},each:function(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function(name,value){var fullname=namespace(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS:attrRemove:"function"==typeof value?fullname.local?attrFunctionNS:attrFunction:fullname.local?attrConstantNS:attrConstant)(fullname,value))},style:function(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove:"function"==typeof value?styleFunction:styleConstant)(name,value,null==priority?"":priority)):function(node,name){return node.style.getPropertyValue(name)||defaultView(node).getComputedStyle(node,null).getPropertyValue(name)}(this.node(),name)},property:function(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction:textConstant)(value)):this.node().textContent},html:function(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function(){return this.each(raise)},lower:function(){return this.each(lower)},append:function(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:selector(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function(){return this.each(remove)},clone:function(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function(typename,value,options){var i,t,typenames=function(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name:name}}))}(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,i=0;i<n;++i)this.each(on(typenames[i],value,options));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))},[Symbol.iterator]:function*(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&(yield node)}};var _excluded$8=["children","id","from","to","x1","y1","x2","y2","fromOffset","fromOpacity","toOffset","toOpacity","rotate","transform","vertical"];function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$c.apply(this,arguments)}function LinearGradient(_ref){var children=_ref.children,id=_ref.id,from=_ref.from,to=_ref.to,_x1=_ref.x1,_y1=_ref.y1,_x2=_ref.x2,_y2=_ref.y2,_ref$fromOffset=_ref.fromOffset,fromOffset=void 0===_ref$fromOffset?"0%":_ref$fromOffset,_ref$fromOpacity=_ref.fromOpacity,fromOpacity=void 0===_ref$fromOpacity?1:_ref$fromOpacity,_ref$toOffset=_ref.toOffset,toOffset=void 0===_ref$toOffset?"100%":_ref$toOffset,_ref$toOpacity=_ref.toOpacity,toOpacity=void 0===_ref$toOpacity?1:_ref$toOpacity,rotate=_ref.rotate,transform=_ref.transform,_ref$vertical=_ref.vertical,vertical=void 0===_ref$vertical||_ref$vertical,restProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded$8),x1=_x1,x2=_x2,y1=_y1,y2=_y2;return!vertical||x1||x2||y1||y2||(x1="0",x2="0",y1="0",y2="1"),React.createElement("defs",null,React.createElement("linearGradient",_extends$c({id:id,x1:x1,y1:y1,x2:x2,y2:y2,gradientTransform:rotate?"rotate("+rotate+")":transform},restProps),!!children&&children,!children&&React.createElement("stop",{offset:fromOffset,stopColor:from,stopOpacity:fromOpacity}),!children&&React.createElement("stop",{offset:toOffset,stopColor:to,stopOpacity:toOpacity})))}LinearGradient.propTypes={id:_pt.string.isRequired,from:_pt.string,to:_pt.string,x1:_pt.oneOfType([_pt.string,_pt.number]),x2:_pt.oneOfType([_pt.string,_pt.number]),y1:_pt.oneOfType([_pt.string,_pt.number]),y2:_pt.oneOfType([_pt.string,_pt.number]),fromOffset:_pt.oneOfType([_pt.string,_pt.number]),fromOpacity:_pt.oneOfType([_pt.string,_pt.number]),toOffset:_pt.oneOfType([_pt.string,_pt.number]),toOpacity:_pt.oneOfType([_pt.string,_pt.number]),rotate:_pt.oneOfType([_pt.string,_pt.number]),transform:_pt.string,children:_pt.node,vertical:_pt.bool};var classnames=createCommonjsModule((function(module){
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):window.classNames=classNames}()})),cx=classnames,Line_1=createCommonjsModule((function(module,exports){exports.__esModule=!0,exports.default=function(_ref){var _ref$from=_ref.from,from=void 0===_ref$from?{x:0,y:0}:_ref$from,_ref$to=_ref.to,to=void 0===_ref$to?{x:1,y:1}:_ref$to,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"transparent":_ref$fill,className=_ref.className,innerRef=_ref.innerRef,restProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),isRectilinear=from.x===to.x||from.y===to.y;return _react.default.createElement("line",_extends({ref:innerRef,className:(0,_classnames.default)("visx-line",className),x1:from.x,y1:from.y,x2:to.x,y2:to.y,fill:fill,shapeRendering:isRectilinear?"crispEdges":"auto"},restProps))};var _react=_interopRequireDefault(React),_classnames=_interopRequireDefault(classnames),_excluded=["from","to","fill","className","innerRef"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}})),Line$1=function(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}(Line_1),_excluded$7=["top","left","transform","className","children","innerRef"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$b.apply(this,arguments)}function Group(_ref){var _ref$top=_ref.top,top=void 0===_ref$top?0:_ref$top,_ref$left=_ref.left,left=void 0===_ref$left?0:_ref$left,transform=_ref.transform,className=_ref.className,children=_ref.children,innerRef=_ref.innerRef,restProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded$7);return React.createElement("g",_extends$b({ref:innerRef,className:cx("visx-group",className),transform:transform||"translate("+left+", "+top+")"},restProps),children)}Group.propTypes={top:_pt.number,left:_pt.number,transform:_pt.string,className:_pt.string,children:_pt.node,innerRef:_pt.oneOfType([_pt.string,_pt.func,_pt.object])};var Point=function(){function Point(_ref){var _ref$x=_ref.x,x=void 0===_ref$x?0:_ref$x,_ref$y=_ref.y,y=void 0===_ref$y?0:_ref$y;this.x=0,this.y=0,this.x=x,this.y=y}var _proto=Point.prototype;return _proto.value=function(){return{x:this.x,y:this.y}},_proto.toArray=function(){return[this.x,this.y]},Point}();function coerceNumber(val){if(("function"==typeof val||"object"==typeof val&&val)&&"valueOf"in val){var num=val.valueOf();if("number"==typeof num)return num}return val}function getTicks(scale,numTicks){var s=scale;return"ticks"in s?s.ticks(numTicks):s.domain().filter((function(_,index,arr){return null==numTicks||arr.length<=numTicks||index%Math.round((arr.length-1)/numTicks)==0}))}function toString(x){return null==x?void 0:x.toString()}var _excluded$6=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$a.apply(this,arguments)}function GridRows(_ref){var _ref$top=_ref.top,top=void 0===_ref$top?0:_ref$top,_ref$left=_ref.left,left=void 0===_ref$left?0:_ref$left,scale=_ref.scale,width=_ref.width,_ref$stroke=_ref.stroke,stroke=void 0===_ref$stroke?"#eaf0f6":_ref$stroke,_ref$strokeWidth=_ref.strokeWidth,strokeWidth=void 0===_ref$strokeWidth?1:_ref$strokeWidth,strokeDasharray=_ref.strokeDasharray,className=_ref.className,children=_ref.children,_ref$numTicks=_ref.numTicks,numTicks=void 0===_ref$numTicks?10:_ref$numTicks,lineStyle=_ref.lineStyle,offset=_ref.offset,tickValues=_ref.tickValues,restProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded$6),ticks=null!=tickValues?tickValues:getTicks(scale,numTicks),scaleOffset=(null!=offset?offset:0)+function(scale){return"bandwidth"in scale?scale.bandwidth():0}(scale)/2,tickLines=ticks.map((function(d,index){var _coerceNumber,y=(null!=(_coerceNumber=coerceNumber(scale(d)))?_coerceNumber:0)+scaleOffset;return{index:index,from:new Point({x:0,y:y}),to:new Point({x:width,y:y})}}));return React.createElement(Group,{className:cx("visx-rows",className),top:top,left:left},children?children({lines:tickLines}):tickLines.map((function(_ref2){var from=_ref2.from,to=_ref2.to,index=_ref2.index;return React.createElement(Line$1,_extends$a({key:"row-line-"+index,from:from,to:to,stroke:stroke,strokeWidth:strokeWidth,strokeDasharray:strokeDasharray,style:lineStyle},restProps))})))}GridRows.propTypes={tickValues:_pt.array,width:_pt.number.isRequired};var _excluded$5=["from","to","fill","className","innerRef"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$9.apply(this,arguments)}function Line(_ref){var _ref$from=_ref.from,from=void 0===_ref$from?{x:0,y:0}:_ref$from,_ref$to=_ref.to,to=void 0===_ref$to?{x:1,y:1}:_ref$to,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"transparent":_ref$fill,className=_ref.className,innerRef=_ref.innerRef,restProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded$5),isRectilinear=from.x===to.x||from.y===to.y;return React.createElement("line",_extends$9({ref:innerRef,className:cx("visx-line",className),x1:from.x,y1:from.y,x2:to.x,y2:to.y,fill:fill,shapeRendering:isRectilinear?"crispEdges":"auto"},restProps))}var balancedMatch$1=balanced$1;function balanced$1(a,b,str){a instanceof RegExp&&(a=maybeMatch$1(a,str)),b instanceof RegExp&&(b=maybeMatch$1(b,str));var r=range$1(a,b,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)}}function maybeMatch$1(reg,str){var m=str.match(reg);return m?m[0]:null}function range$1(a,b,str){var begs,beg,left,right,result,ai=str.indexOf(a),bi=str.indexOf(b,ai+1),i=ai;if(ai>=0&&bi>0){for(begs=[],left=str.length;i>=0&&!result;)i==ai?(begs.push(i),ai=str.indexOf(a,i+1)):1==begs.length?result=[begs.pop(),bi]:((beg=begs.pop())<left&&(left=beg,right=bi),bi=str.indexOf(b,i+1)),i=ai<bi&&ai>=0?ai:bi;begs.length&&(result=[left,right])}return result}balanced$1.range=range$1;var balancedMatch=balanced;function balanced(a,b,str){a instanceof RegExp&&(a=maybeMatch(a,str)),b instanceof RegExp&&(b=maybeMatch(b,str));var r=range(a,b,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)}}function maybeMatch(reg,str){var m=str.match(reg);return m?m[0]:null}function range(a,b,str){var begs,beg,left,right,result,ai=str.indexOf(a),bi=str.indexOf(b,ai+1),i=ai;if(ai>=0&&bi>0){if(a===b)return[ai,bi];for(begs=[],left=str.length;i>=0&&!result;)i==ai?(begs.push(i),ai=str.indexOf(a,i+1)):1==begs.length?result=[begs.pop(),bi]:((beg=begs.pop())<left&&(left=beg,right=bi),bi=str.indexOf(b,i+1)),i=ai<bi&&ai>=0?ai:bi;begs.length&&(result=[left,right])}return result}balanced.range=range;var reduceFunctionCall_1=reduceFunctionCall;function reduceFunctionCall(string,functionRE,callback){var call=string;return function(call,functionRE){var expressions=[],fnRE="string"==typeof functionRE?new RegExp("\\b("+functionRE+")\\("):functionRE;do{var searchMatch=fnRE.exec(call);if(!searchMatch)return expressions;if(void 0===searchMatch[1])throw new Error("Missing the first couple of parenthesis to get the function identifier in "+functionRE);var fn=searchMatch[1],startIndex=searchMatch.index,matches=balancedMatch("(",")",call.substring(startIndex));if(!matches||matches.start!==searchMatch[0].length-1)throw new SyntaxError(fn+"(): missing closing ')' in the value '"+call+"'");expressions.push({matches:matches,functionIdentifier:fn}),call=matches.post}while(fnRE.test(call));return expressions}(string,functionRE).reduce((function(string,obj){return string.replace(obj.functionIdentifier+"("+obj.matches.body+")",function(string,functionIdentifier,callback,call,functionRE){return callback(reduceFunctionCall(string,functionRE,callback),functionIdentifier,call)}(obj.matches.body,obj.functionIdentifier,callback,call,functionRE))}),string)}var Mexp=function(parsed){this.value=parsed};Mexp.math={isDegree:!0,acos:function(x){return Mexp.math.isDegree?180/Math.PI*Math.acos(x):Math.acos(x)},add:function(a,b){return a+b},asin:function(x){return Mexp.math.isDegree?180/Math.PI*Math.asin(x):Math.asin(x)},atan:function(x){return Mexp.math.isDegree?180/Math.PI*Math.atan(x):Math.atan(x)},acosh:function(x){return Math.log(x+Math.sqrt(x*x-1))},asinh:function(x){return Math.log(x+Math.sqrt(x*x+1))},atanh:function(x){return Math.log((1+x)/(1-x))},C:function(n,r){var pro=1,other=n-r,choice=r;choice<other&&(choice=other,other=r);for(var i=choice+1;i<=n;i++)pro*=i;return pro/Mexp.math.fact(other)},changeSign:function(x){return-x},cos:function(x){return Mexp.math.isDegree&&(x=Mexp.math.toRadian(x)),Math.cos(x)},cosh:function(x){return(Math.pow(Math.E,x)+Math.pow(Math.E,-1*x))/2},div:function(a,b){return a/b},fact:function(n){if(n%1!=0)return"NaN";for(var pro=1,i=2;i<=n;i++)pro*=i;return pro},inverse:function(x){return 1/x},log:function(i){return Math.log(i)/Math.log(10)},mod:function(a,b){return a%b},mul:function(a,b){return a*b},P:function(n,r){for(var pro=1,i=Math.floor(n)-Math.floor(r)+1;i<=Math.floor(n);i++)pro*=i;return pro},Pi:function(low,high,ex){for(var pro=1,i=low;i<=high;i++)pro*=Number(ex.postfixEval({n:i}));return pro},pow10x:function(e){for(var x=1;e--;)x*=10;return x},sigma:function(low,high,ex){for(var sum=0,i=low;i<=high;i++)sum+=Number(ex.postfixEval({n:i}));return sum},sin:function(x){return Mexp.math.isDegree&&(x=Mexp.math.toRadian(x)),Math.sin(x)},sinh:function(x){return(Math.pow(Math.E,x)-Math.pow(Math.E,-1*x))/2},sub:function(a,b){return a-b},tan:function(x){return Mexp.math.isDegree&&(x=Mexp.math.toRadian(x)),Math.tan(x)},tanh:function(x){return Mexp.sinha(x)/Mexp.cosha(x)},toRadian:function(x){return x*Math.PI/180},and:function(a,b){return a&b}},Mexp.Exception=function(message){this.message=message};var math_function=Mexp;function inc(arr,val){for(var i=0;i<arr.length;i++)arr[i]+=val;return arr}for(var tokens=[{token:"sin",show:"sin",type:0,value:math_function.math.sin},{token:"cos",show:"cos",type:0,value:math_function.math.cos},{token:"tan",show:"tan",type:0,value:math_function.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:math_function.math.P},{token:"C",show:"C",type:10,value:math_function.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:math_function.math.asin},{token:"acos",show:"acos",type:0,value:math_function.math.acos},{token:"atan",show:"atan",type:0,value:math_function.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:math_function.math.cosh},{token:"acosh",show:"acosh",type:0,value:math_function.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:math_function.math.div},{token:"!",show:"!",type:7,value:math_function.math.fact},{token:"tanh",show:"tanh",type:0,value:math_function.math.tanh},{token:"atanh",show:"atanh",type:0,value:math_function.math.atanh},{token:"Mod",show:" Mod ",type:2,value:math_function.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:math_function.math.mul},{token:"sinh",show:"sinh",type:0,value:math_function.math.sinh},{token:"asinh",show:"asinh",type:0,value:math_function.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:math_function.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:math_function.math.add},{token:"-",show:"-",type:9,value:math_function.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:math_function.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:math_function.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:math_function.math.and}],preced={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},i=0;i<tokens.length;i++)tokens[i].precedence=preced[tokens[i].type];var type0={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},type1={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},type1Asterick={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},empty={},type3Asterick={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},type6={1:!0},newAr=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function match(str1,str2,i,x){for(var f=0;f<x;f++)if(str1[i+f]!==str2[f])return!1;return!0}function indexOfToken(key,tokens){for(var search=0;search<tokens.length;search++)if(tokens[search].token===key)return search;return-1}function tokenize(string){for(var key,x,y,nodes=[],length=string.length,i=0;i<length;i++)if(!(i<length-1&&" "===string[i]&&" "===string[i+1])){for(key="",x=string.length-i>newAr.length-2?newAr.length-1:string.length-i;x>0;x--)if(void 0!==newAr[x])for(y=0;y<newAr[x].length;y++)match(string,newAr[x][y],i,x)&&(key=newAr[x][y],y=newAr[x].length,x=0);if(i+=key.length-1,""===key)throw new math_function.Exception("Can't understand after "+string.slice(i));nodes.push(tokens[indexOfToken(key,tokens)])}return nodes}math_function.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},math_function.addToken=function(newTokens){for(var i=0;i<newTokens.length;i++){var x=newTokens[i].token.length,temp=-1;newTokens[i].type===math_function.tokenTypes.FUNCTION_WITH_N_ARGS&&void 0===newTokens[i].numberOfArguments&&(newTokens[i].numberOfArguments=2),newAr[x]=newAr[x]||[];for(var y=0;y<newAr[x].length;y++)if(newTokens[i].token===newAr[x][y]){temp=indexOfToken(newAr[x][y],tokens);break}-1===temp?(tokens.push(newTokens[i]),newTokens[i].precedence=preced[newTokens[i].type],newAr.length<=newTokens[i].token.length&&(newAr[newTokens[i].token.length]=[]),newAr[newTokens[i].token.length].push(newTokens[i].token)):(tokens[temp]=newTokens[i],newTokens[i].precedence=preced[newTokens[i].type])}};var changeSignObj={value:math_function.math.changeSign,type:0,pre:21,show:"-"},closingParObj={value:")",show:")",type:5,pre:0},openingParObj={value:"(",type:4,pre:0,show:"("};math_function.lex=function(inp,tokens){var i,str=[openingParObj],ptc=[],inpStr=inp,allowed=type0,bracToClose=0,asterick=empty,prevKey="";void 0!==tokens&&math_function.addToken(tokens);var obj={},nodes=tokenize(inpStr);for(i=0;i<nodes.length;i++){var node=nodes[i];if(14!==node.type){var j,cToken=node.token,cType=node.type,cEv=node.value,cPre=node.precedence,cShow=node.show,pre=str[str.length-1];for(j=ptc.length;j--&&0===ptc[j];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(cType)){if(!0!==allowed[cType])throw new math_function.Exception(cToken+" is not allowed after "+prevKey);str.push(closingParObj),allowed=type1,asterick=type3Asterick,ptc.pop()}if(!0!==allowed[cType])throw new math_function.Exception(cToken+" is not allowed after "+prevKey);if(!0===asterick[cType]&&(cType=2,cEv=math_function.math.mul,cShow="&times;",cPre=3,i-=1),obj={value:cEv,type:cType,pre:cPre,show:cShow,numberOfArguments:node.numberOfArguments},0===cType)allowed=type0,asterick=empty,inc(ptc,2),str.push(obj),4!==nodes[i+1].type&&(str.push(openingParObj),ptc.push(2));else if(1===cType)1===pre.type?(pre.value+=cEv,inc(ptc,1)):str.push(obj),allowed=type1,asterick=type1Asterick;else if(2===cType)allowed=type0,asterick=empty,inc(ptc,2),str.push(obj);else if(3===cType)str.push(obj),allowed=type1,asterick=type3Asterick;else if(4===cType)inc(ptc,1),bracToClose++,allowed=type0,asterick=empty,str.push(obj);else if(5===cType){if(!bracToClose)throw new math_function.Exception("Closing parenthesis are more than opening one, wait What!!!");bracToClose--,allowed=type1,asterick=type3Asterick,str.push(obj),inc(ptc,1)}else if(6===cType){if(pre.hasDec)throw new math_function.Exception("Two decimals are not allowed in one number");1!==pre.type&&(pre={value:0,type:1,pre:0},str.push(pre)),allowed=type6,inc(ptc,1),asterick=empty,pre.value+=cEv,pre.hasDec=!0}else 7===cType&&(allowed=type1,asterick=type3Asterick,inc(ptc,1),str.push(obj));8===cType?(allowed=type0,asterick=empty,inc(ptc,node.numberOfArguments+2),str.push(obj),4!==nodes[i+1].type&&(str.push(openingParObj),ptc.push(node.numberOfArguments+2))):9===cType?(9===pre.type?pre.value===math_function.math.add?(pre.value=cEv,pre.show=cShow,inc(ptc,1)):pre.value===math_function.math.sub&&"-"===cShow&&(pre.value=math_function.math.add,pre.show="+",inc(ptc,1)):5!==pre.type&&7!==pre.type&&1!==pre.type&&3!==pre.type&&13!==pre.type?"-"===cToken&&(allowed=type0,asterick=empty,inc(ptc,2).push(2),str.push(changeSignObj),str.push(openingParObj)):(str.push(obj),inc(ptc,2)),allowed=type0,asterick=empty):10===cType?(allowed=type0,asterick=empty,inc(ptc,2),str.push(obj)):11===cType?(allowed=type0,asterick=empty,str.push(obj)):12===cType?(allowed=type0,asterick=empty,inc(ptc,6),str.push(obj),4!==nodes[i+1].type&&(str.push(openingParObj),ptc.push(6))):13===cType&&(allowed=type1,asterick=type3Asterick,str.push(obj)),inc(ptc,-1),prevKey=cToken}else if(i>0&&i<nodes.length-1&&1===nodes[i+1].type&&(1===nodes[i-1].type||6===nodes[i-1].type))throw new math_function.Exception("Unexpected Space")}for(j=ptc.length;j--;)str.push(closingParObj);if(!0!==allowed[5])throw new math_function.Exception("complete the expression");for(;bracToClose--;)str.push(closingParObj);return str.push(closingParObj),new math_function(str)};var lexer=math_function;lexer.prototype.toPostfix=function(){for(var elem,popped,prep,pre,ele,post=[],stack=[{value:"(",type:4,pre:0}],arr=this.value,i=1;i<arr.length;i++)if(1===arr[i].type||3===arr[i].type||13===arr[i].type)1===arr[i].type&&(arr[i].value=Number(arr[i].value)),post.push(arr[i]);else if(4===arr[i].type)stack.push(arr[i]);else if(5===arr[i].type)for(;4!==(popped=stack.pop()).type;)post.push(popped);else if(11===arr[i].type){for(;4!==(popped=stack.pop()).type;)post.push(popped);stack.push(popped)}else{pre=(elem=arr[i]).pre,prep=(ele=stack[stack.length-1]).pre;var flag="Math.pow"==ele.value&&"Math.pow"==elem.value;if(pre>prep)stack.push(elem);else{for(;prep>=pre&&!flag||flag&&pre<prep;)popped=stack.pop(),ele=stack[stack.length-1],post.push(popped),prep=ele.pre,flag="Math.pow"==elem.value&&"Math.pow"==ele.value;stack.push(elem)}}return new lexer(post)};var postfix=lexer;postfix.prototype.postfixEval=function(UserDefined){(UserDefined=UserDefined||{}).PI=Math.PI,UserDefined.E=Math.E;for(var pop1,pop2,pop3,stack=[],arr=this.value,bool=void 0!==UserDefined.n,i=0;i<arr.length;i++)if(1===arr[i].type)stack.push({value:arr[i].value,type:1});else if(3===arr[i].type)stack.push({value:UserDefined[arr[i].value],type:1});else if(0===arr[i].type)void 0===stack[stack.length-1].type?stack[stack.length-1].value.push(arr[i]):stack[stack.length-1].value=arr[i].value(stack[stack.length-1].value);else if(7===arr[i].type)void 0===stack[stack.length-1].type?stack[stack.length-1].value.push(arr[i]):stack[stack.length-1].value=arr[i].value(stack[stack.length-1].value);else if(8===arr[i].type){for(var popped=[],x=0;x<arr[i].numberOfArguments;x++)popped.push(stack.pop().value);stack.push({type:1,value:arr[i].value.apply(arr[i],popped.reverse())})}else 10===arr[i].type?(pop1=stack.pop(),void 0===(pop2=stack.pop()).type?(pop2.value=pop2.concat(pop1),pop2.value.push(arr[i]),stack.push(pop2)):void 0===pop1.type?(pop1.unshift(pop2),pop1.push(arr[i]),stack.push(pop1)):stack.push({type:1,value:arr[i].value(pop2.value,pop1.value)})):2===arr[i].type||9===arr[i].type?(pop1=stack.pop(),void 0===(pop2=stack.pop()).type?((pop2=pop2.concat(pop1)).push(arr[i]),stack.push(pop2)):void 0===pop1.type?(pop1.unshift(pop2),pop1.push(arr[i]),stack.push(pop1)):stack.push({type:1,value:arr[i].value(pop2.value,pop1.value)})):12===arr[i].type?(void 0!==(pop1=stack.pop()).type&&(pop1=[pop1]),pop2=stack.pop(),pop3=stack.pop(),stack.push({type:1,value:arr[i].value(pop3.value,pop2.value,new postfix(pop1))})):13===arr[i].type&&(bool?stack.push({value:UserDefined[arr[i].value],type:3}):stack.push([arr[i]]));if(stack.length>1)throw new postfix.Exception("Uncaught Syntax error");return stack[0].value>1e15?"Infinity":parseFloat(stack[0].value.toFixed(15))},postfix.eval=function(str,tokens,obj){return void 0===tokens?this.lex(str).toPostfix().postfixEval():void 0===obj?void 0!==tokens.length?this.lex(str,tokens).toPostfix().postfixEval():this.lex(str).toPostfix().postfixEval(tokens):this.lex(str,tokens).toPostfix().postfixEval(obj)};var postfix_evaluator=postfix;postfix_evaluator.prototype.formulaEval=function(){for(var pop1,pop2,pop3,disp=[],arr=this.value,i=0;i<arr.length;i++)1===arr[i].type||3===arr[i].type?disp.push({value:3===arr[i].type?arr[i].show:arr[i].value,type:1}):13===arr[i].type?disp.push({value:arr[i].show,type:1}):0===arr[i].type?disp[disp.length-1]={value:arr[i].show+("-"!=arr[i].show?"(":"")+disp[disp.length-1].value+("-"!=arr[i].show?")":""),type:0}:7===arr[i].type?disp[disp.length-1]={value:(1!=disp[disp.length-1].type?"(":"")+disp[disp.length-1].value+(1!=disp[disp.length-1].type?")":"")+arr[i].show,type:7}:10===arr[i].type?(pop1=disp.pop(),pop2=disp.pop(),"P"===arr[i].show||"C"===arr[i].show?disp.push({value:"<sup>"+pop2.value+"</sup>"+arr[i].show+"<sub>"+pop1.value+"</sub>",type:10}):disp.push({value:(1!=pop2.type?"(":"")+pop2.value+(1!=pop2.type?")":"")+"<sup>"+pop1.value+"</sup>",type:1})):2===arr[i].type||9===arr[i].type?(pop1=disp.pop(),pop2=disp.pop(),disp.push({value:(1!=pop2.type?"(":"")+pop2.value+(1!=pop2.type?")":"")+arr[i].show+(1!=pop1.type?"(":"")+pop1.value+(1!=pop1.type?")":""),type:arr[i].type})):12===arr[i].type&&(pop1=disp.pop(),pop2=disp.pop(),pop3=disp.pop(),disp.push({value:arr[i].show+"("+pop3.value+","+pop2.value+","+pop1.value+")",type:12}));return disp[0].value};var stack,formula_evaluator=postfix_evaluator,MAX_STACK=100,NESTED_CALC_RE=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g,reduceCssCalc=function(value,decimalPrecision){function evaluateExpression(expression,functionIdentifier,call){if(stack++>MAX_STACK)throw stack=0,new Error("Call stack overflow for "+call);if(""===expression)throw new Error(functionIdentifier+"(): '"+call+"' must contain a non-whitespace string");expression=function(expression,call){expression=expression.replace(/((?:\-[a-z]+\-)?calc)/g,"");var matches,evaluatedPart="",nonEvaluatedPart=expression;for(;matches=NESTED_CALC_RE.exec(nonEvaluatedPart);){matches[0].index>0&&(evaluatedPart+=nonEvaluatedPart.substring(0,matches[0].index));var balancedExpr=balancedMatch$1("(",")",nonEvaluatedPart.substring([0].index));if(""===balancedExpr.body)throw new Error("'"+expression+"' must contain a non-whitespace string");var evaluated=evaluateExpression(balancedExpr.body,"",call);evaluatedPart+=balancedExpr.pre+evaluated,nonEvaluatedPart=balancedExpr.post}return evaluatedPart+nonEvaluatedPart}(expression,call);var units=function(expression){var uniqueUnits=[],uniqueLowerCaseUnits=[],unitRegEx=/[\.0-9]([%a-z]+)/gi,matches=unitRegEx.exec(expression);for(;matches;)matches&&matches[1]&&(-1===uniqueLowerCaseUnits.indexOf(matches[1].toLowerCase())&&(uniqueUnits.push(matches[1]),uniqueLowerCaseUnits.push(matches[1].toLowerCase())),matches=unitRegEx.exec(expression));return uniqueUnits}(expression);if(units.length>1||expression.indexOf("var(")>-1)return functionIdentifier+"("+expression+")";var unit=units[0]||"";"%"===unit&&(expression=expression.replace(/\b[0-9\.]+%/g,(function(percent){return.01*parseFloat(percent.slice(0,-1))})));var result,toEvaluate=expression.replace(new RegExp(unit,"gi"),"");try{result=formula_evaluator.eval(toEvaluate)}catch(e){return functionIdentifier+"("+expression+")"}return"%"===unit&&(result*=100),(functionIdentifier.length||"%"===unit)&&(result=Math.round(result*decimalPrecision)/decimalPrecision),result+=unit}return stack=0,decimalPrecision=Math.pow(10,void 0===decimalPrecision?5:decimalPrecision),value=value.replace(/\n+/g," "),reduceFunctionCall_1(value,/((?:\-[a-z]+\-)?calc)\(/,evaluateExpression)};var reduceCSSCalc$1=reduceCssCalc,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";var uid,isFunction_1=function(value){if(!isObject_1(value))return!1;var tag=_baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag},_coreJsData=_root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";var _isMasked=function(func){return!!maskSrcKey&&maskSrcKey in func},funcToString$1=Function.prototype.toString;var _toSource=function(func){if(null!=func){try{return funcToString$1.call(func)}catch(e){}try{return func+""}catch(e){}}return""},reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$2).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var _baseIsNative=function(value){return!(!isObject_1(value)||_isMasked(value))&&(isFunction_1(value)?reIsNative:reIsHostCtor).test(_toSource(value))};var _getValue=function(object,key){return null==object?void 0:object[key]};var _getNative=function(object,key){var value=_getValue(object,key);return _baseIsNative(value)?value:void 0},_nativeCreate=_getNative(Object,"create");var _hashClear=function(){this.__data__=_nativeCreate?_nativeCreate(null):{},this.size=0};var _hashDelete=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},HASH_UNDEFINED$1="__lodash_hash_undefined__",hasOwnProperty$1=Object.prototype.hasOwnProperty;var _hashGet=function(key){var data=this.__data__;if(_nativeCreate){var result=data[key];return result===HASH_UNDEFINED$1?void 0:result}return hasOwnProperty$1.call(data,key)?data[key]:void 0},hasOwnProperty=Object.prototype.hasOwnProperty;var _hashHas=function(key){var data=this.__data__;return _nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},HASH_UNDEFINED="__lodash_hash_undefined__";var _hashSet=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=_nativeCreate&&void 0===value?HASH_UNDEFINED:value,this};function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=_hashClear,Hash.prototype.delete=_hashDelete,Hash.prototype.get=_hashGet,Hash.prototype.has=_hashHas,Hash.prototype.set=_hashSet;var _Hash=Hash;var _listCacheClear=function(){this.__data__=[],this.size=0};var eq_1=function(value,other){return value===other||value!=value&&other!=other};var _assocIndexOf=function(array,key){for(var length=array.length;length--;)if(eq_1(array[length][0],key))return length;return-1},splice=Array.prototype.splice;var _listCacheDelete=function(key){var data=this.__data__,index=_assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)};var _listCacheGet=function(key){var data=this.__data__,index=_assocIndexOf(data,key);return index<0?void 0:data[index][1]};var _listCacheHas=function(key){return _assocIndexOf(this.__data__,key)>-1};var _listCacheSet=function(key,value){var data=this.__data__,index=_assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this};function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=_listCacheClear,ListCache.prototype.delete=_listCacheDelete,ListCache.prototype.get=_listCacheGet,ListCache.prototype.has=_listCacheHas,ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache,_Map=_getNative(_root,"Map");var _mapCacheClear=function(){this.size=0,this.__data__={hash:new _Hash,map:new(_Map||_ListCache),string:new _Hash}};var _isKeyable=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value};var _getMapData=function(map,key){var data=map.__data__;return _isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map};var _mapCacheDelete=function(key){var result=_getMapData(this,key).delete(key);return this.size-=result?1:0,result};var _mapCacheGet=function(key){return _getMapData(this,key).get(key)};var _mapCacheHas=function(key){return _getMapData(this,key).has(key)};var _mapCacheSet=function(key,value){var data=_getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this};function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=_mapCacheClear,MapCache.prototype.delete=_mapCacheDelete,MapCache.prototype.get=_mapCacheGet,MapCache.prototype.has=_mapCacheHas,MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||_MapCache),memoized}memoize.Cache=_MapCache;var MEASUREMENT_ELEMENT_ID="__react_svg_text_measurement_id";var getStringWidth$1=memoize((function(str,style){try{var textEl=document.getElementById(MEASUREMENT_ELEMENT_ID);if(!textEl){var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute("aria-hidden","true"),svg.style.width="0",svg.style.height="0",svg.style.position="absolute",svg.style.top="-100%",svg.style.left="-100%",(textEl=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",MEASUREMENT_ELEMENT_ID),svg.appendChild(textEl),document.body.appendChild(svg)}return Object.assign(textEl.style,style),textEl.textContent=str,textEl.getComputedTextLength()}catch(e){return null}}),(function(str,style){return str+"_"+JSON.stringify(style)})),_excluded$4=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function isNumber(val){return"number"==typeof val}function isXOrYInValid(xOrY){return"number"==typeof xOrY&&Number.isFinite(xOrY)||"string"==typeof xOrY}function useText(props){var _props$verticalAnchor=props.verticalAnchor,verticalAnchor=void 0===_props$verticalAnchor?"end":_props$verticalAnchor,_props$scaleToFit=props.scaleToFit,scaleToFit=void 0!==_props$scaleToFit&&_props$scaleToFit,angle=props.angle,width=props.width,_props$lineHeight=props.lineHeight,lineHeight=void 0===_props$lineHeight?"1em":_props$lineHeight,_props$capHeight=props.capHeight,capHeight=void 0===_props$capHeight?"0.71em":_props$capHeight,children=props.children,style=props.style,textProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(props,_excluded$4),_textProps$x=textProps.x,x=void 0===_textProps$x?0:_textProps$x,_textProps$y=textProps.y,y=void 0===_textProps$y?0:_textProps$y,isXOrYNotValid=!isXOrYInValid(x)||!isXOrYInValid(y),_useMemo=useMemo((function(){return{wordsWithWidth:(null==children?[]:children.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(word){return{word:word,wordWidth:getStringWidth$1(word,style)||0}})),spaceWidth:getStringWidth$1(" ",style)||0}}),[children,style]),wordsWithWidth=_useMemo.wordsWithWidth,spaceWidth=_useMemo.spaceWidth,wordsByLines=useMemo((function(){return isXOrYNotValid?[]:width||scaleToFit?wordsWithWidth.reduce((function(result,_ref){var word=_ref.word,wordWidth=_ref.wordWidth,currentLine=result[result.length-1];if(currentLine&&(null==width||scaleToFit||(currentLine.width||0)+wordWidth+spaceWidth<width))currentLine.words.push(word),currentLine.width=currentLine.width||0,currentLine.width+=wordWidth+spaceWidth;else{var newLine={words:[word],width:wordWidth};result.push(newLine)}return result}),[]):[{words:null==children?[]:children.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[isXOrYNotValid,width,scaleToFit,children,wordsWithWidth,spaceWidth]),startDy=useMemo((function(){return isXOrYNotValid?"":reduceCSSCalc$1("start"===verticalAnchor?"calc("+capHeight+")":"middle"===verticalAnchor?"calc("+(wordsByLines.length-1)/2+" * -"+lineHeight+" + ("+capHeight+" / 2))":"calc("+(wordsByLines.length-1)+" * -"+lineHeight+")")}),[isXOrYNotValid,verticalAnchor,capHeight,wordsByLines.length,lineHeight]),transform=useMemo((function(){var transforms=[];if(isXOrYNotValid)return"";if(isNumber(x)&&isNumber(y)&&isNumber(width)&&scaleToFit&&wordsByLines.length>0){var lineWidth=wordsByLines[0].width||1,sx="shrink-only"===scaleToFit?Math.min(width/lineWidth,1):width/lineWidth,sy=sx,originX=x-sx*x,originY=y-sy*y;transforms.push("matrix("+sx+", 0, 0, "+sy+", "+originX+", "+originY+")")}return angle&&transforms.push("rotate("+angle+", "+x+", "+y+")"),transforms.length>0?transforms.join(" "):""}),[isXOrYNotValid,x,y,width,scaleToFit,wordsByLines,angle]);return{wordsByLines:wordsByLines,startDy:startDy,transform:transform}}var _excluded$3=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$8.apply(this,arguments)}var SVG_STYLE={overflow:"visible"};function Text(props){var _props$dx=props.dx,dx=void 0===_props$dx?0:_props$dx,_props$dy=props.dy,dy=void 0===_props$dy?0:_props$dy,_props$textAnchor=props.textAnchor,textAnchor=void 0===_props$textAnchor?"start":_props$textAnchor,innerRef=props.innerRef,innerTextRef=props.innerTextRef;props.verticalAnchor,props.angle;var _props$lineHeight=props.lineHeight,lineHeight=void 0===_props$lineHeight?"1em":_props$lineHeight;props.scaleToFit,props.capHeight,props.width;var textProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(props,_excluded$3),_textProps$x=textProps.x,x=void 0===_textProps$x?0:_textProps$x,fontSize=textProps.fontSize,_useText=useText(props),wordsByLines=_useText.wordsByLines,startDy=_useText.startDy,transform=_useText.transform;return React.createElement("svg",{ref:innerRef,x:dx,y:dy,fontSize:fontSize,style:SVG_STYLE},wordsByLines.length>0?React.createElement("text",_extends$8({ref:innerTextRef,transform:transform},textProps,{textAnchor:textAnchor}),wordsByLines.map((function(line,index){return React.createElement("tspan",{key:index,x:x,dy:0===index?startDy:lineHeight},line.words.join(" "))}))):null)}var Orientation$1={top:"top",left:"left",right:"right",bottom:"bottom"};function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$7.apply(this,arguments)}function Ticks(_ref){var hideTicks=_ref.hideTicks,horizontal=_ref.horizontal,orientation=_ref.orientation,tickClassName=_ref.tickClassName,tickComponent=_ref.tickComponent,allTickLabelProps=_ref.tickLabelProps,_ref$tickStroke=_ref.tickStroke,tickStroke=void 0===_ref$tickStroke?"#222":_ref$tickStroke,tickTransform=_ref.tickTransform,ticks=_ref.ticks,strokeWidth=_ref.strokeWidth,tickLineProps=_ref.tickLineProps;return ticks.map((function(_ref2){var _allTickLabelProps$in,value=_ref2.value,index=_ref2.index,from=_ref2.from,to=_ref2.to,formattedValue=_ref2.formattedValue,tickLabelProps=null!=(_allTickLabelProps$in=allTickLabelProps[index])?_allTickLabelProps$in:{},tickLabelFontSize=Math.max(10,"number"==typeof tickLabelProps.fontSize&&tickLabelProps.fontSize||0),tickYCoord=to.y+(horizontal&&orientation!==Orientation$1.top?tickLabelFontSize:0);return React.createElement(Group,{key:"visx-tick-"+value+"-"+index,className:cx("visx-axis-tick",tickClassName),transform:tickTransform},!hideTicks&&React.createElement(Line,_extends$7({from:from,to:to,stroke:tickStroke,strokeWidth:strokeWidth,strokeLinecap:"square"},tickLineProps)),tickComponent?tickComponent(_extends$7({},tickLabelProps,{x:to.x,y:tickYCoord,formattedValue:formattedValue})):React.createElement(Text,_extends$7({x:to.x,y:tickYCoord},tickLabelProps),formattedValue))}))}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$6.apply(this,arguments)}var defaultTextProps={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function AxisRenderer(_ref){var axisFromPoint=_ref.axisFromPoint,axisLineClassName=_ref.axisLineClassName,axisToPoint=_ref.axisToPoint,hideAxisLine=_ref.hideAxisLine,hideTicks=_ref.hideTicks,horizontal=_ref.horizontal,_ref$label=_ref.label,label=void 0===_ref$label?"":_ref$label,labelClassName=_ref.labelClassName,_ref$labelOffset=_ref.labelOffset,labelOffset=void 0===_ref$labelOffset?14:_ref$labelOffset,_ref$labelProps=_ref.labelProps,labelProps=void 0===_ref$labelProps?defaultTextProps:_ref$labelProps,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?Orientation$1.bottom:_ref$orientation,scale=_ref.scale,_ref$stroke=_ref.stroke,stroke=void 0===_ref$stroke?"#222":_ref$stroke,strokeDasharray=_ref.strokeDasharray,_ref$strokeWidth=_ref.strokeWidth,strokeWidth=void 0===_ref$strokeWidth?1:_ref$strokeWidth,tickClassName=_ref.tickClassName,tickComponent=_ref.tickComponent,tickLineProps=_ref.tickLineProps,_ref$tickLabelProps=_ref.tickLabelProps,tickLabelProps=void 0===_ref$tickLabelProps?function(){return defaultTextProps}:_ref$tickLabelProps,_ref$tickLength=_ref.tickLength,tickLength=void 0===_ref$tickLength?8:_ref$tickLength,_ref$tickStroke=_ref.tickStroke,tickStroke=void 0===_ref$tickStroke?"#222":_ref$tickStroke,tickTransform=_ref.tickTransform,ticks=_ref.ticks,_ref$ticksComponent=_ref.ticksComponent,ticksComponent=void 0===_ref$ticksComponent?Ticks:_ref$ticksComponent,allTickLabelProps=ticks.map((function(_ref2){var value=_ref2.value,index=_ref2.index;return tickLabelProps(value,index,ticks)})),maxTickLabelFontSize=Math.max.apply(Math,[10].concat(allTickLabelProps.map((function(props){return"number"==typeof props.fontSize?props.fontSize:0}))));return React.createElement(React.Fragment,null,ticksComponent({hideTicks:hideTicks,horizontal:horizontal,orientation:orientation,scale:scale,tickClassName:tickClassName,tickComponent:tickComponent,tickLabelProps:allTickLabelProps,tickStroke:tickStroke,tickTransform:tickTransform,ticks:ticks,strokeWidth:strokeWidth,tickLineProps:tickLineProps}),!hideAxisLine&&React.createElement(Line,{className:cx("visx-axis-line",axisLineClassName),from:axisFromPoint,to:axisToPoint,stroke:stroke,strokeWidth:strokeWidth,strokeDasharray:strokeDasharray}),label&&React.createElement(Text,_extends$6({className:cx("visx-axis-label",labelClassName)},function(_ref){var x,y,transform,labelOffset=_ref.labelOffset,labelProps=_ref.labelProps,orientation=_ref.orientation,range=_ref.range,tickLabelFontSize=_ref.tickLabelFontSize,tickLength=_ref.tickLength,sign=orientation===Orientation$1.left||orientation===Orientation$1.top?-1:1;if(orientation===Orientation$1.top||orientation===Orientation$1.bottom){var yBottomOffset=orientation===Orientation$1.bottom&&"number"==typeof labelProps.fontSize?labelProps.fontSize:0;x=(Number(range[0])+Number(range[range.length-1]))/2,y=sign*(tickLength+labelOffset+tickLabelFontSize+yBottomOffset)}else x=sign*((Number(range[0])+Number(range[range.length-1]))/2),y=-(tickLength+labelOffset),transform="rotate("+90*sign+")";return{x:x,y:y,transform:transform}}({labelOffset:labelOffset,labelProps:labelProps,orientation:orientation,range:scale.range(),tickLabelFontSize:maxTickLabelFontSize,tickLength:tickLength}),labelProps),label))}function createPoint(_ref,horizontal){var x=_ref.x,y=_ref.y;return new Point(horizontal?{x:x,y:y}:{x:y,y:x})}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$5.apply(this,arguments)}var defaultAxisRangePadding=0;var _excluded$2=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$4.apply(this,arguments)}function Axis(_ref){var originalRangePadding,_ref$children=_ref.children,children=void 0===_ref$children?AxisRenderer:_ref$children,axisClassName=_ref.axisClassName,_ref$hideAxisLine=_ref.hideAxisLine,hideAxisLine=void 0!==_ref$hideAxisLine&&_ref$hideAxisLine,_ref$hideTicks=_ref.hideTicks,hideTicks=void 0!==_ref$hideTicks&&_ref$hideTicks,_ref$hideZero=_ref.hideZero,hideZero=void 0!==_ref$hideZero&&_ref$hideZero,_ref$left=_ref.left,left=void 0===_ref$left?0:_ref$left,_ref$numTicks=_ref.numTicks,numTicks=void 0===_ref$numTicks?10:_ref$numTicks,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?Orientation$1.bottom:_ref$orientation,_ref$rangePadding=_ref.rangePadding,rangePadding=void 0===_ref$rangePadding?0:_ref$rangePadding,scale=_ref.scale,tickFormat=_ref.tickFormat,_ref$tickLength=_ref.tickLength,tickLength=void 0===_ref$tickLength?8:_ref$tickLength,tickValues=_ref.tickValues,_ref$top=_ref.top,top=void 0===_ref$top?0:_ref$top,restProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded$2),format=null!=tickFormat?tickFormat:function(scale){return"tickFormat"in scale?scale.tickFormat():toString}(scale),isLeft=orientation===Orientation$1.left,isTop=orientation===Orientation$1.top,horizontal=isTop||orientation===Orientation$1.bottom,tickPosition=function(scale,align){void 0===align&&(align="center");var s=scale;if("start"!==align&&"bandwidth"in s){var offset=s.bandwidth();return"center"===align&&(offset/=2),s.round()&&(offset=Math.round(offset)),function(d){var scaledValue=s(d);return"number"==typeof scaledValue?scaledValue+offset:scaledValue}}return scale}(scale),tickSign=isLeft||isTop?-1:1,range=scale.range(),rangePaddingConfig=(void 0===(originalRangePadding=rangePadding)&&(originalRangePadding=defaultAxisRangePadding),"number"==typeof originalRangePadding?{start:originalRangePadding,end:originalRangePadding}:_extends$5({start:defaultAxisRangePadding,end:defaultAxisRangePadding},originalRangePadding)),axisFromPoint=createPoint({x:Number(range[0])+.5-rangePaddingConfig.start,y:0},horizontal),axisToPoint=createPoint({x:Number(range[range.length-1])+.5+rangePaddingConfig.end,y:0},horizontal),filteredTickValues=(null!=tickValues?tickValues:getTicks(scale,numTicks)).filter((function(value){return!hideZero||0!==value&&"0"!==value})).map((function(value,index){return{value:value,index:index}})),ticks=filteredTickValues.map((function(_ref2){var value=_ref2.value,index=_ref2.index,scaledValue=coerceNumber(tickPosition(value));return{value:value,index:index,from:createPoint({x:scaledValue,y:0},horizontal),to:createPoint({x:scaledValue,y:tickLength*tickSign},horizontal),formattedValue:format(value,index,filteredTickValues)}}));return React.createElement(Group,{className:cx("visx-axis",axisClassName),top:top,left:left},children(_extends$4({},restProps,{axisFromPoint:axisFromPoint,axisToPoint:axisToPoint,hideAxisLine:hideAxisLine,hideTicks:hideTicks,hideZero:hideZero,horizontal:horizontal,numTicks:numTicks,orientation:orientation,rangePadding:rangePadding,scale:scale,tickFormat:format,tickLength:tickLength,tickPosition:tickPosition,tickSign:tickSign,ticks:ticks})))}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$3.apply(this,arguments)}var DEFAULT_POINT={x:0,y:0};function localPoint$1(node,event){if(!node||!event)return null;var elem,coords=function(event){if(!event)return _extends$3({},DEFAULT_POINT);if(function(event){return!!event&&"changedTouches"in event}(event))return event.changedTouches.length>0?{x:event.changedTouches[0].clientX,y:event.changedTouches[0].clientY}:_extends$3({},DEFAULT_POINT);if(function(event){return!!event&&"clientX"in event}(event))return{x:event.clientX,y:event.clientY};var target=null==event?void 0:event.target,boundingClientRect=target&&"getBoundingClientRect"in target?target.getBoundingClientRect():null;return boundingClientRect?{x:boundingClientRect.x+boundingClientRect.width/2,y:boundingClientRect.y+boundingClientRect.height/2}:_extends$3({},DEFAULT_POINT)}(event),svg=(elem=node)&&(elem instanceof SVGElement||"ownerSVGElement"in elem)?node.ownerSVGElement:node,screenCTM=function(elem){return!!elem&&"getScreenCTM"in elem}(svg)?svg.getScreenCTM():null;if(function(elem){return!!elem&&"createSVGPoint"in elem}(svg)&&screenCTM){var point=svg.createSVGPoint();return point.x=coords.x,point.y=coords.y,point=point.matrixTransform(screenCTM.inverse()),new Point({x:point.x,y:point.y})}var rect=node.getBoundingClientRect();return new Point({x:coords.x-rect.left-node.clientLeft,y:coords.y-rect.top-node.clientTop})}function localPoint(nodeOrEvent,maybeEvent){if((elem=nodeOrEvent)&&elem instanceof Element&&maybeEvent)return localPoint$1(nodeOrEvent,maybeEvent);var elem;if(function(event){return!!event&&(event instanceof Event||"nativeEvent"in event&&event.nativeEvent instanceof Event)}(nodeOrEvent)){var event=nodeOrEvent,node=event.target;if(node)return localPoint$1(node,event)}return null}var _excluded$1=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$2.apply(this,arguments)}var defaultStyles={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},Tooltip=React.forwardRef((function(_ref,ref){var className=_ref.className,top=_ref.top,left=_ref.left,_ref$offsetLeft=_ref.offsetLeft,offsetLeft=void 0===_ref$offsetLeft?10:_ref$offsetLeft,_ref$offsetTop=_ref.offsetTop,offsetTop=void 0===_ref$offsetTop?10:_ref$offsetTop,_ref$style=_ref.style,style=void 0===_ref$style?defaultStyles:_ref$style,children=_ref.children,_ref$unstyled=_ref.unstyled,unstyled=void 0!==_ref$unstyled&&_ref$unstyled,_ref$applyPositionSty=_ref.applyPositionStyle,applyPositionStyle=void 0!==_ref$applyPositionSty&&_ref$applyPositionSty,restProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded$1);return React.createElement("div",_extends$2({ref:ref,className:cx("visx-tooltip",className),style:_extends$2({top:null==top||null==offsetTop?top:top+offsetTop,left:null==left||null==offsetLeft?left:left+offsetLeft},applyPositionStyle&&{position:"absolute"},!unstyled&&style)},restProps),children)}));Tooltip.propTypes={children:_pt.node,className:_pt.string,left:_pt.number,offsetLeft:_pt.number,offsetTop:_pt.number,top:_pt.number,applyPositionStyle:_pt.bool,unstyled:_pt.bool},Tooltip.displayName="Tooltip";var Tooltip$1=Tooltip;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$1.apply(this,arguments)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var emptyRect={top:0,right:0,bottom:0,left:0,width:0,height:0};var TooltipPositionContext=createContext({isFlippedVertically:!1,isFlippedHorizontally:!1}),TooltipPositionProvider=TooltipPositionContext.Provider;TooltipPositionContext.Consumer;var _excluded=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function TooltipWithBounds(_ref){var children=_ref.children;_ref.getRects;var transform,_ref$left=_ref.left,initialLeft=void 0===_ref$left?0:_ref$left,_ref$offsetLeft=_ref.offsetLeft,offsetLeft=void 0===_ref$offsetLeft?10:_ref$offsetLeft,_ref$offsetTop=_ref.offsetTop,offsetTop=void 0===_ref$offsetTop?10:_ref$offsetTop,parentBounds=_ref.parentRect,ownBounds=_ref.rect,_ref$style=_ref.style,style=void 0===_ref$style?defaultStyles:_ref$style,_ref$top=_ref.top,initialTop=void 0===_ref$top?0:_ref$top,_ref$unstyled=_ref.unstyled,unstyled=void 0!==_ref$unstyled&&_ref$unstyled,nodeRef=_ref.nodeRef,otherProps=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),placeTooltipLeft=!1,placeTooltipUp=!1;if(ownBounds&&parentBounds){var left=initialLeft,top=initialTop;if(parentBounds.width){var rightPlacementClippedPx=left+offsetLeft+ownBounds.width-parentBounds.width,leftPlacementClippedPx=ownBounds.width-left-offsetLeft;placeTooltipLeft=rightPlacementClippedPx>0&&rightPlacementClippedPx>leftPlacementClippedPx}else{var _rightPlacementClippedPx=left+offsetLeft+ownBounds.width-window.innerWidth,_leftPlacementClippedPx=ownBounds.width-left-offsetLeft;placeTooltipLeft=_rightPlacementClippedPx>0&&_rightPlacementClippedPx>_leftPlacementClippedPx}if(parentBounds.height){var bottomPlacementClippedPx=top+offsetTop+ownBounds.height-parentBounds.height,topPlacementClippedPx=ownBounds.height-top-offsetTop;placeTooltipUp=bottomPlacementClippedPx>0&&bottomPlacementClippedPx>topPlacementClippedPx}else placeTooltipUp=top+offsetTop+ownBounds.height>window.innerHeight;left=placeTooltipLeft?left-ownBounds.width-offsetLeft:left+offsetLeft,top=placeTooltipUp?top-ownBounds.height-offsetTop:top+offsetTop,transform="translate("+(left=Math.round(left))+"px, "+(top=Math.round(top))+"px)"}return React.createElement(Tooltip$1,_extends({ref:nodeRef,style:_extends({left:0,top:0,transform:transform},!unstyled&&style)},otherProps),React.createElement(TooltipPositionProvider,{value:{isFlippedVertically:!placeTooltipUp,isFlippedHorizontally:!placeTooltipLeft}},children))}TooltipWithBounds.propTypes={nodeRef:_pt.oneOfType([_pt.string,_pt.func,_pt.object])};var BaseComponent,_class,TooltipWithBounds$1=(BaseComponent=TooltipWithBounds,(_class=function(_React$PureComponent){var subClass,superClass;function WrappedComponent(props){var _this;return(_this=_React$PureComponent.call(this,props)||this).state={rect:void 0,parentRect:void 0},_this.nodeRef=React.createRef(),_this.getRects=_this.getRects.bind(function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(_this)),_this}superClass=_React$PureComponent,(subClass=WrappedComponent).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=WrappedComponent.prototype;return _proto.componentDidMount=function(){var _this$nodeRef,_this2=this;this.node=null!=(_this$nodeRef=this.nodeRef)&&_this$nodeRef.current?this.nodeRef.current:ReactDOM.findDOMNode(this),this.setState((function(){return _this2.getRects()}))},_proto.getRects=function(){if(!this.node)return this.state;var node=this.node,parentNode=node.parentNode;return{rect:node.getBoundingClientRect?node.getBoundingClientRect():emptyRect,parentRect:null!=parentNode&&parentNode.getBoundingClientRect?parentNode.getBoundingClientRect():emptyRect}},_proto.render=function(){return React.createElement(BaseComponent,_extends$1({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},WrappedComponent}(React.PureComponent)).displayName="withBoundingRects("+(BaseComponent.displayName||"")+")",_class),margin$1_left=50,margin$1_top=30,margin$1_right=20,margin$1_bottom=30,LineChart$1=withParentSize((function(_a){var data=_a.data,id=_a.id,_b=_a.xType,xType=void 0===_b?"band":_b,_c=_a.groupType,groupType=void 0===_c?"single":_c,colorList=_a.colorList,maxLimitY=_a.maxLimitY,minLimitY=_a.minLimitY,displayIndex=_a.displayIndex,tooltipMaker=_a.tooltipMaker,legendLabelList=_a.legendLabelList,width=_a.width,height=_a.height,keyList=useMemo((function(){return Object.keys(data[0]).filter((function(k){return"x"!==k}))}),[data]),colorScale=ordinal().domain(keyList).range(colorList),yList=useMemo((function(){var yArray=[];return"stack"!==groupType?data.forEach((function(d){keyList.forEach((function(k){yArray.push(+d["".concat(k)])}))})):data.forEach((function(d){var sum=0;keyList.forEach((function(k){sum+=+d["".concat(k)]})),yArray.push(sum)})),yArray}),[groupType,data,keyList]),maxY=useMemo((function(){var _a;return null!==(_a=null!=maxLimitY?maxLimitY:max(yList))&&void 0!==_a?_a:0}),[maxLimitY,yList]),minY=useMemo((function(){var _a;return"stack"==groupType?0:null!==(_a=null!=minLimitY?minLimitY:min(yList))&&void 0!==_a?_a:0}),[groupType,minLimitY,yList]),xScale=useMemo((function(){return"time"==xType?time().domain([dayjs(min(data.map((function(d){return d.x}))),"YYYYMMDD").toDate(),dayjs(max(data.map((function(d){return d.x}))),"YYYYMMDD").toDate()]).range([margin$1_left,width-margin$1_right]):band().domain(data.map((function(d){return d.x}))).range([margin$1_left,width-margin$1_right])}),[data,width,xType]),yScale=useMemo((function(){return linear().domain([minY,maxY]).range([height-margin$1_bottom-margin$1_top,margin$1_top+20])}),[height,maxY,minY]),yAxisLabel=useMemo((function(){return makeDisplayNum(yScale.ticks(data.length<5?3:5))}),[data.length,yScale]),_d=useState(void 0),tooltipData=_d[0],setTooltipData=_d[1],drawLegend=useCallback((function(){var legendList=null!=legendLabelList?legendLabelList:keyList;if(legendList&&legendList.length>0)return React.createElement("div",{className:"absolute top-0 -translate-x-1/2 translate-y-1/2 left-1/2"},React.createElement("ul",{className:"grid gap-x-2",style:{gridTemplateColumns:"repeat(".concat(legendList.length,", minmax(0, 1fr))")}},legendList.map((function(d,i){var _a;return React.createElement("li",{key:"".concat(id,"-legend-").concat(i),className:"flex items-center space-x-1"},React.createElement("svg",{width:15,height:15},React.createElement("rect",{x:0,y:0,width:15,height:15,fill:null!==(_a=colorList[i])&&void 0!==_a?_a:"#e3e3e3"})),React.createElement("span",null,d))}))))}),[colorList,id,legendLabelList]),drawSingleLine=useCallback((function(){var areaScale=area().x((function(d){return xScale(d.x)+("time"==xType?0:xScale.bandwidth()/2)})).y0(yScale(minY)).y1((function(d){return yScale(d.y)}));select("#".concat(id,"-single-area")).selectAll("path").data([data]).join("path").attr("fill","url(#".concat(id,"-gradient-").concat(keyList[0],")")).attr("d",areaScale);var lineScale=line().x((function(d){return xScale(d.x)+("time"==xType?0:xScale.bandwidth()/2)})).y((function(d){return yScale(d.y)}));return select("#".concat(id,"-single-line")).selectAll("path").data([data]).join("path").attr("d",lineScale).attr("stroke",colorList[0]).attr("fill","none"),null}),[colorList,data,id,keyList,minY,xScale,xType,yScale]),drawGroupLine=useCallback((function(){keyList.forEach((function(key){select("#".concat(id,"-").concat(key,"-area")).selectAll("path").data([data]).join("path").attr("fill","url(#".concat(id,"-gradient-").concat(key,")")).attr("d",function(key){return area().x((function(d){return xScale(d.x)+("time"==xType?0:xScale.bandwidth()/2)})).y0(yScale(minY)).y1((function(d){return yScale(d[key])}))}(key)),select("#".concat(id,"-").concat(key,"-line")).selectAll("path").data([data]).join("path").attr("d",function(key){return line().x((function(d){return xScale(d.x)+("time"==xType?0:xScale.bandwidth()/2)})).y((function(d){return yScale(d[key])}))}(key)).attr("stroke",colorScale(key)).attr("stroke-width",2).attr("fill","none")}))}),[colorScale,data,id,keyList,minY,xScale,xType,yScale]),drawStackLine=useCallback((function(){var stackedData=stack$1().keys(keyList)(data);stackedData.forEach((function(d){select("#".concat(id,"-").concat(d.key,"-area")).selectAll("path").data([d]).join("path").attr("fill","url(#".concat(id,"-gradient-").concat(d.key,")")).attr("d",(function(d){return area().x((function(d){return xScale(d.data.x)+("time"==xType?0:xScale.bandwidth()/2)})).y0((function(d){return yScale(d[0])})).y1((function(d){return yScale(d[1])}))(d)})).attr("stroke","none"),select("#".concat(id,"-").concat(d.key,"-line")).selectAll("path").data([d]).join("path").attr("d",(function(d){return line().x((function(d){return xScale(d.data.x)+("time"==xType?0:xScale.bandwidth()/2)})).y((function(d){return yScale(d[1])}))(d)})).attr("stroke",colorScale(d.key)).attr("stroke-width",2).attr("fill","none")}))}),[colorScale,data,id,keyList,xScale,xType,yScale]);return useEffect((function(){switch(groupType){case"single":drawSingleLine();break;case"group":drawGroupLine();break;case"stack":drawStackLine()}}),[drawGroupLine,drawSingleLine,drawStackLine,groupType]),React.createElement("div",{className:"relative"},drawLegend(),React.createElement("svg",{width:width,height:height,onPointerMove:function(e){var _a,_b,x=null===(_a=localPoint(e))||void 0===_a?void 0:_a.x;if(x){var xDomain=data.map((function(d){return xScale(d.x)})),index=bisectLeft(xDomain,x)-1;if(data[index]){var tooltipX=xScale(data[index].x)+("time"==xType?0:xScale.bandwidth()/2),tooltipY="single"==groupType?yScale(data[index].y):margin$1_top,tooltipData_1=null!==(_b=data[index].tooltipData)&&void 0!==_b?_b:void 0!==tooltipMaker?tooltipMaker(data[index].x):data[index].x;setTooltipData({x:tooltipX,y:tooltipY,data:tooltipData_1})}}},onPointerOut:function(){setTooltipData(void 0)}},tooltipData&&React.createElement("line",{x1:tooltipData.x,x2:tooltipData.x,y1:margin$1_top,y2:height-margin$1_bottom,stroke:"#e3e3e3",strokeDasharray:3}),React.createElement(GridRows,{width:width-margin$1_left-margin$1_bottom,left:margin$1_left,scale:yScale,numTicks:3,stroke:"#e3e3e3"}),React.createElement(Axis,{scale:xScale,orientation:"bottom",top:height-margin$1_bottom,stroke:"black",tickLabelProps:function(){return{textAnchor:"middle",fill:"black"}},tickLineProps:{stroke:"black"},numTicks:width<500?2:4}),React.createElement("g",{className:"yAxis"},React.createElement("text",{x:margin$1_left,y:margin$1_top-10,textAnchor:"middle",alignmentBaseline:"baseline",style:{fontSize:11},fill:"#666"},React.createElement(React.Fragment,null,"단위 : ",""!==yAxisLabel[0]?"".concat(yAxisLabel[0]," "):null,displayIndex&&{displayIndex:displayIndex})),React.createElement("line",{x1:margin$1_left,x2:margin$1_left,y1:margin$1_top,y2:height-margin$1_bottom,stroke:"black"}),React.createElement(Axis,{scale:yScale,orientation:"left",left:margin$1_left,tickFormat:function(d){var newTickLabel=+d/+yAxisLabel[1];if(+newTickLabel%1==0)return newTickLabel.toLocaleString("ko")},numTicks:data.length<5?3:5,strokeWidth:0,tickLabelProps:function(){return{textAnchor:"end",fill:"black"}}})),"single"==groupType?React.createElement("g",null,React.createElement("g",{id:"".concat(id,"-single-area")},React.createElement("path",null)),React.createElement("g",{id:"".concat(id,"-single-line")},React.createElement("path",null))):React.createElement("g",null,keyList.map((function(key){return React.createElement("g",{key:"".concat(id,"-").concat(key)},React.createElement("g",{id:"".concat(id,"-").concat(key,"-area")},React.createElement("path",null)),React.createElement("g",{id:"".concat(id,"-").concat(key,"-line")},React.createElement("path",null)))}))),keyList.map((function(key,index){return React.createElement(LinearGradient,{key:"".concat(id,"-gradient-").concat(key),id:"".concat(id,"-gradient-").concat(key),from:colorList[index],fromOpacity:.6,to:colorList[index],toOpacity:0})}))),tooltipData&&React.createElement(TooltipWithBounds$1,{left:tooltipData.x,top:margin$1_top},tooltipData.data))})),margin_left=50,margin_top=50,margin_right=20,margin_bottom=30,BarChart$1=withParentSize((function(_a){var data=_a.data,id=_a.id,width=_a.width,height=_a.height,_b=_a.xType,xType=void 0===_b?"band":_b,_c=_a.groupType,groupType=void 0===_c?"single":_c,colorList=_a.colorList,maxLimitY=_a.maxLimitY,minLimitY=_a.minLimitY,_d=_a.displayIndex,displayIndex=void 0===_d?"개":_d,tooltipMaker=_a.tooltipMaker,legendLabelList=_a.legendLabelList,keyList=useMemo((function(){return Object.keys(data[0]).filter((function(k){return"x"!==k}))}),[data]),colorScale=ordinal().domain(keyList).range(colorList),yList=useMemo((function(){var yArray=[];return"stack"!==groupType?data.forEach((function(d){keyList.forEach((function(k){yArray.push(+d["".concat(k)])}))})):data.forEach((function(d){var sum=keyList.reduce((function(acc,k){return acc+ +d["".concat(k)]}),0);yArray.push(sum)})),yArray}),[groupType,data,keyList]),maxY=useMemo((function(){var _a;return null!==(_a=null!=maxLimitY?maxLimitY:max(yList))&&void 0!==_a?_a:0}),[maxLimitY,yList]),minY=useMemo((function(){return null!=minLimitY?minLimitY:0}),[minLimitY]),xScale=useMemo((function(){return"time"==xType?time().domain([dayjs(min(data.map((function(d){return d.x}))),"YYYYMMDD").toDate(),dayjs(max(data.map((function(d){return d.x}))),"YYYYMMDD").toDate()]).range([margin_left,width-margin_right]):band().domain(data.map((function(d){return d.x}))).range([margin_left,width-margin_right]).padding(.2)}),[data,width,xType]),yScale=useMemo((function(){return linear().domain([minY,maxY]).range([height-margin_bottom,margin_top])}),[height,maxY,minY]),yAxisLabel=useMemo((function(){return makeDisplayNum(yScale.ticks(data.length<5?3:5))}),[data.length,yScale]),_e=useState(void 0),tooltipData=_e[0],setTooltipData=_e[1],drawLegend=useCallback((function(){if(legendLabelList&&legendLabelList.length>1)return React.createElement("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 translate-y-1/2"},React.createElement("ul",{className:"grid gap-x-2",style:{gridTemplateColumns:"repeat(".concat(legendLabelList.length,", minmax(0, 1fr))")}},legendLabelList.map((function(d,i){var _a;return React.createElement("li",{key:"".concat(id,"-legend-").concat(i),className:"flex items-center space-x-1"},React.createElement("svg",{width:15,height:15},React.createElement("rect",{x:0,y:0,width:15,height:15,fill:null!==(_a=colorList[i])&&void 0!==_a?_a:"#e3e3e3"})),React.createElement("span",null,d))}))))}),[colorList,id,legendLabelList]),drawSingleBar=useCallback((function(){select("#".concat(id,"-bar-area")).selectAll("rect").data(data).join("rect").attr("fill","url(#".concat(id,"-gradient-").concat(keyList[0],")")).attr("x",(function(d){return xScale(d.x)})).attr("y",(function(d){return yScale(d[keyList[0]])})).attr("height",(function(d){return height-margin_bottom-yScale(d[keyList[0]])})).attr("width","band"==xType?xScale.bandwidth():20)}),[data,height,id,keyList,xScale,xType,yScale]),drawGroupBar=useCallback((function(){var chartArea=select("#".concat(id,"-bar-area")),zDomain=keyList.map((function(d){return d})),zScale=band().domain(zDomain).range([0,xScale.bandwidth()]).padding(.1),zColorScale=ordinal().domain(zDomain).range(colorList);keyList.forEach((function(k,i){chartArea.select("g#".concat(id,"-group-").concat(i)).selectAll("rect").data(data).join("rect").attr("fill",zColorScale(k)).attr("x",(function(d){return xScale(d.x)+zScale(k)})).attr("y",(function(d){return yScale(d[k])})).attr("height",(function(d){return height-margin_bottom-yScale(d[k])})).attr("width",zScale.bandwidth())}))}),[colorList,data,height,id,keyList,xScale,yScale]),drawStackBar=useCallback((function(){var stackedData=stack$1().keys(keyList)(data),chartArea=select("#".concat(id,"-bar-area"));stackedData.forEach((function(k,i){chartArea.select("g#".concat(id,"-stack-").concat(i)).attr("fill",colorScale(k.key)).selectAll("rect").data(k).join("rect").attr("x",(function(d){return xScale(d.data.x)})).attr("y",(function(d){return yScale(d[1])})).attr("height",(function(d){return yScale(d[0])-yScale(d[1])})).attr("width",xScale.bandwidth())}))}),[colorScale,data,id,keyList,xScale,yScale]);return useEffect((function(){switch(groupType){case"single":drawSingleBar();break;case"stack":drawStackBar();break;case"group":drawGroupBar()}}),[drawGroupBar,drawSingleBar,drawStackBar,groupType]),React.createElement("div",{className:"relative",style:{width:width,height:height}},drawLegend(),React.createElement("svg",{width:width,height:height,onPointerMove:function(e){var _a,_b;if(tooltipMaker){var x=null===(_a=localPoint(e))||void 0===_a?void 0:_a.x;if(x){var xDomain=data.map((function(d){return xScale(d.x)})),index=bisectLeft(xDomain,x)-1;if(data[index]){var tooltipX=xScale(data[index].x)+("time"==xType?0:xScale.bandwidth()/2),tooltipY="single"==groupType?yScale(data[index].y):margin_top,tooltipData_1=null!==(_b=data[index].tooltipData)&&void 0!==_b?_b:tooltipMaker(data[index].x);setTooltipData({x:tooltipX,y:tooltipY,data:tooltipData_1})}}}},onPointerOut:function(){setTooltipData(void 0)}},tooltipData&&React.createElement("line",{x1:tooltipData.x,x2:tooltipData.x,y1:margin_top,y2:height-margin_bottom,stroke:"#e3e3e3",strokeDasharray:3}),React.createElement(GridRows,{width:width-margin_left-margin_right,left:margin_left,scale:yScale,numTicks:3,stroke:"#e3e3e3"}),React.createElement(Axis,{scale:xScale,orientation:"bottom",top:height-margin_bottom,stroke:"black",tickLabelProps:function(){return{textAnchor:"middle",fill:"black"}},tickLineProps:{stroke:"black"},numTicks:width<500?2:4}),React.createElement("g",{className:"yAxis"},displayIndex&&React.createElement("text",{x:margin_left,y:margin_top/2,textAnchor:"middle",alignmentBaseline:"baseline",style:{fontSize:11},fill:"#666"},"단위 : ",""!==yAxisLabel[0]?"".concat(yAxisLabel[0]," "):null,"(",displayIndex,")"),React.createElement("line",{x1:margin_left,x2:margin_left,y1:margin_top,y2:height-margin_bottom,stroke:"black"}),React.createElement(Axis,{scale:yScale,orientation:"left",left:margin_left,tickFormat:function(d){var newTickLabel=+d/+yAxisLabel[1];if(+newTickLabel%1==0)return newTickLabel.toLocaleString("ko")},numTicks:data.length<5?3:5,strokeWidth:0,tickLabelProps:function(){return{textAnchor:"end",fill:"black"}}})),React.createElement("g",{id:"".concat(id,"-bar-area")},"group"==groupType&&keyList.map((function(_,i){return React.createElement("g",{key:"".concat(id,"-group-").concat(i),id:"".concat(id,"-group-").concat(i)})})),"stack"==groupType&&keyList.map((function(_,i){return React.createElement("g",{key:"".concat(id,"-stack-").concat(i),id:"".concat(id,"-stack-").concat(i)})}))),keyList.map((function(key,index){return React.createElement(LinearGradient,{key:"".concat(id,"-gradient-").concat(key),id:"".concat(id,"-gradient-").concat(key),from:colorList[index],fromOpacity:1,to:colorList[index],toOpacity:.4})}))),tooltipData&&React.createElement(TooltipWithBounds$1,{left:tooltipData.x,top:tooltipData.y,className:"dark:bg-zinc-900"},tooltipData.data))}));export{BarChart$1 as BarChart,LineChart$1 as LineChart};
//# sourceMappingURL=index.mjs.map
